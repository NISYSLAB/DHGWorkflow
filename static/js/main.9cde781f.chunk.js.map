{"version":3,"sources":["graph-builder/graph-actions.js","graph-builder/graph-component.js","config/cytoscape-style.js","config/cytoscape-options.js","graph-builder/local-storage-manager.js","graph-builder/graphml/builder/nodeML.js","graph-builder/graphml/builder/graphML.js","graph-builder/graphml/builder/edgeML.js","graph-builder/graphml/builder/index.js","graph-builder/graph-load-save.js","graph-builder/graph-canvas.js","graph-builder/graph-undo-redo.js","graph-builder/core-graph-builder.js","graph-builder/calculations/boundary-point.js","graph-builder/index.js","graph-builder/tailored-graph-builder.js","component/ZoomSetter.jsx","graph-builder/graphml/parser/PropFromArr.js","graph-builder/graphml/parser/parseProperties.js","graph-builder/graphml/parser/index.js","toolbarActions/toolbarFunctions.js","component/TabBar.jsx","config/defaultValidators.js","graph.jsx","component/modals/ParentModal.jsx","component/modals/GraphCompDetails.jsx","toolbarActions/toolbarList.js","component/HeaderComps.jsx","component/Header.jsx","component/modals/ProjectDetails.jsx","component/modals/ShareModal.jsx","component/CodeEdit.jsx","component/modals/Settings.jsx","App.jsx","serviceWorkerRegistration.js","reportWebVitals.js","index.jsx","graph-builder/calculations/bending-dist-weight.js","reducer/actionType.js","component/modals/ColorBox.jsx","component/modals/NodeDetails.jsx","component/modals/EdgeDetails.jsx","config/defaultStyles.js","reducer/initialState.js","reducer/reducer.js"],"names":["ADD_NODE","ADD_EDGE","UPDATE_NODE","UPDATE_EDGE","UPDATE_DATA","DEL_NODE","DEL_EDGE","SET_POS","SET_DIM","GraphComponent","ParentClass","args","nodeValidator","edgeValidator","getTid","Date","getTime","allNodes","this","cy","$","start","x","y","found","i","length","nodePos","position","label","style","type","getPos","data","id","tid","node","add","group","addAction","actionName","GA","parameters","sourceId","targetId","getById","edgesWith","edges","getEdgesBetweenNodes","dists","Set","forEach","edge","bendDistance","d","has","rawStyle","bendWeight","bendPoint","BendingDistanceWeight","getWeightDistance","w","getBendingD","source","target","parseBendinDW","addEdgeWithLabel","dispatcher","T","Model_Open_Create_Edge","cb","edgeLabel","edgeStyle","message","validiateEdge","ok","shouldUpdateLabel","getStyle","key","val","connectedEdges","deleteEdge","json","remove","removed","jsonEd","isNode","deleteNode","pos","emit","dim","height","width","setPos","toString","indexOf","lastIndexOf","a","b","slice","trim","setEdgeNodeValidator","eval","map","getRealSourceId","comp","validator","getNodesEdges","nodes","undefined","err","e","validiateComp","selector","overlayOpacity","content","zIndex","shape","opacity","backgroundColor","borderColor","borderWidth","textValign","textHalign","curveStyle","targetArrowShape","lineColor","targetArrowColor","segmentDistances","segmentWeights","edgeDistances","lineStyle","edgeTextRotation","textBackgroundOpacity","color","textBackgroundColor","textBackgroundShape","textBorderColor","textBorderWidth","textBorderOpacity","display","borderOpacity","overlayColor","overlayPadding","options","zoomingEnabled","userZoomingEnabled","minZoom","maxZoom","localStorageManager","ALL_GRAPHS","allgs","window","localStorage","getItem","setItem","btoa","JSON","stringify","parse","atob","getSet","saveAllgs","Array","from","addEmptyIfNot","get","save","graphContent","addGraph","serializedJson","delete","removeItem","getAllGraphs","addToFront","Garr","unshift","nodeML","posX","posY","graphML","graphml","xmlns","for","graph","edgedefault","projectName","author","edgeML","configuration","lineWidth","sx","sy","tx","ty","builder","G","edg","thickness","X","projectDetails","xml2js","Builder","buildObject","GraphLoadSave","autoSaveIntervalId","on","saveLocalStorage","bind","format","saveAs","png","getName","nodeID","edgeID","shouldNodeBeSaved","all","nodeJson","push","shouldEdgeBeSaved","edgeJson","getCoordinate","str","graphmlBuilder","jsonifyGraph","bytes","TextEncoder","encode","blob","Blob","addNode","addEdge","SET_PROJECT_DETAILS","payload","autoSaveTimeoutId","clearTimeout","setTimeout","loadJson","GraphCanvas","reset","removeListener","setZoomUI","Math","round","zoom","fit","v","elements","confirm","el","deleteElem","GraphUndoRedo","props","GUR","methodsMapped","actionArr","curActionIndex","prevPos","curPos","prevDim","curDim","inverse","equivalent","splice","SET_UNDO","SET_REDO","curTid","performAction","CoreGraph","superState","bendNode","classes","regesterEvents","getElementById","els","ELE_UNSELECTED","every","isEdge","ids","ELE_SELECTED","selectDeselectEventHandler","scratch","addPositionChange","addDimensionChange","addClass","evt","ev","hasClass","CG","getBendEdgePoint","DW","removeClass","parseFloat","boundaryPoint","getEq","P1","P2","m","getX1X2","Cn","P","h","c","A","B","C","D","getY1Y2","x1","x2","dist","getClosestEllipse","y1","y2","slope","setSubQ","S1","S2","getClosestRect","abs","Infinity","TailoredGraphBuilder","connectedNodes","juncNode","TG","calJuncNodePos","juncNodeId","incomers","filter","unselectify","sourceID","targetID","ed","sourceNode","targetNode","sourceNodeStyle","juncNodePos","getBoundaryPoint","ungrabify","addAutoMove","addEdgeWithJuncNode","juncNodes","outgoers","addEdgeWithoutJuncNode","junctionNode","updateData","updateNode","n1","n2","n","r","union","c1","c2","parNode","meanNbrPosition","setOfPos","posStr","size","GraphOption","marks","ZoomComp","myGraph","graphs","curGraphIndex","instance","useState","getZoom","zoomValue","setZoomValue","setOnZoom","className","role","tabIndex","onClick","resetZoom","onKeyDown","fitZoom","min","max","onChange","value","setZoom","included","PropFromArr","obj","arr","flatenArr","flatArr","constructor","o","p","Object","keys","s","t","propFromArr","split","property","any","S","F","parseNode","parseProps","parseInt","parseEdge","parser","graphMlCnt","Promise","resolve","Parser","parseString","grahMLObj","grahML","parseDetails","set","Boolean","getGraphFun","createNode","state","setState","Model_Open_Create_Node","validiateNode","editElement","eleSelectedPayload","Model_Open_Update_Node","labelAllowed","getLabel","Model_Open_Update_Edge","retMessage","updateEdge","downloadImg","saveAction","saveToDisk","readFile","files","fr","FileReader","onload","graphMLParser","result","then","ADD_GRAPH","readAsText","newProject","NEW_GRAPH","clearAll","undo","redo","openShareModal","SET_SHARE_MODAL","openSettingModal","SET_SETTING_MODAL","TabBar","closeTab","stopPropagation","REMOVE_GRAPH","editCur","React","useEffect","hotkeys","event","preventDefault","document","click","querySelector","data-tip","CHANGE_TAB","data-for","place","effect","originalEdge","GraphComp","graphContainerRef","createRef","element","current","offsetWidth","offsetHeight","cytoscape","cyOptions","container","nodeEditing","resizeToContentCueEnabled","setWidth","setHeight","isNoResizeMode","isNoControlsMode","gridGuide","snapToGridOnRelease","zoomDash","panGrid","MyGraph","edgehandles","preview","handlePosition","handleNodes","complete","loadGraphFromLocalStorage","initialiseNewGraph","ADD_GRAPH_INSTANCE","index","setCurStatus","use","Konva","graphFromParams","fromEntries","URLSearchParams","location","search","entries","g","gid","history","replaceState","title","pathname","allSavedGs","graphId","ADD_GRAPH_BULK","flex","flexDirection","background","ref","ReactModal","setAppElement","Modal","closeModal","ModelOpen","children","curClass","setCurClass","isOpen","setIsOpen","stid","setStid","contentLabel","onRequestClose","overlayClassName","aria-hidden","ModalComp","setData","errorMessage","setErrorMessage","modalPayload","submitText","Children","defaultStyle","defaultLabel","ParentModal","onSubmit","toolbarList","text","icon","FaPlus","action","active","hotkey","FaFileImport","FaSave","FaRegTimesCircle","FaUndo","undoEnabled","FaRedo","redoEnabled","FaEdit","eleSelected","FaTrash","FaRegSun","FaShare","FaDownload","DropDown","Icon","menuButton","FileUploader","fileRef","accept","Switcher","checked","ActionButton","fontSize","Vsep","Hsep","Space","Header","actions","replace","k","handler","shortcut","setHotKeys","ProjectDetails","curGraph","setProjectName","setAuthor","inputRef","useCallback","focus","setProjectDetails","placeholder","required","ShareModal","serializedGraph","setSerializedGraph","copyText","setCopyText","cond","shareModal","serializeGraph","link","protocol","host","readOnly","navigator","clipboard","writeText","getElementsByClassName","select","CodeEdit","pre","post","spellCheck","data-gramm_editor","SettingsModal","setNodeValidator","setEdgeValidator","getNodeValidator","getEdgeValidator","settingsModal","app","useReducer","reducer","initialState","Settings","GraphCompDetails","Model_Close","overflow","hostname","match","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","serviceWorker","ready","registration","unregister","catch","error","console","rotate","Q","cos","sin","extraRad","PI","getRadian","tanQ","atan","zealit","require","$$typeof","TURN_DRAW","SET_ZOOM","colors","light","dark","ColorBox","setColor","visible","setVisible","floor","random","onChangeComplete","hex","NodeDetails","submit","textRef","widthSet","setWidthSet","setStyle","prop","borderRadius","padding","htmlFor","name","step","Triangle","EqTriangle","borderLeft","borderBottom","borderTop","marginLeft","EdgeDetails","RadioBtn","borderBottomWidth","borderBottomColor","borderBottomStyle","NodeStyle","EdgeStyle","drawModeOn","initialGraphState","component","newState","setProjectDetail"],"mappings":"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","file":"static/js/main.9cde781f.chunk.js","sourcesContent":["export default {\n    ADD_NODE: 'ADD_NODE',\n    ADD_EDGE: 'ADD_EDGE',\n    UPDATE_NODE: 'UPDATE_NODE',\n    UPDATE_EDGE: 'UPDATE_EDGE',\n    UPDATE_DATA: 'UPDATE_DATA',\n    DEL_NODE: 'DEL_NODE',\n    DEL_EDGE: 'DEL_EDGE',\n    SET_POS: 'SET_POS',\n    SET_DIM: 'SET_DIM',\n};\n","import BendingDistanceWeight from './calculations/bending-dist-weight';\nimport GA from './graph-actions';\nimport { actionType as T } from '../reducer';\n\nconst GraphComponent = (ParentClass) => class GC extends ParentClass {\n    constructor(...args) {\n        super(...args);\n        [,,,,, this.nodeValidator, this.edgeValidator] = args;\n        this.getTid = () => new Date().getTime();\n    }\n\n    getPos() {\n        const allNodes = this.cy.$('node');\n        const start = { x: 100, y: 100 };\n        let found = true;\n        while (found) {\n            found = false;\n            for (let i = 0; i < allNodes.length; i += 1) {\n                const nodePos = allNodes[i].position();\n                found = found || (nodePos.x === start.x && nodePos.y === start.y);\n            }\n            if (found) {\n                start.x += 10;\n                start.y += 10;\n            }\n        }\n        return start;\n    }\n\n    addNode(label, style, type = 'ordin', position = this.getPos(), data = {}, id, tid = this.getTid()) {\n        const node = this.cy.add({\n            group: 'nodes',\n            data: {\n                ...data, id, label, type, style,\n            },\n            position,\n        });\n        this.addAction(\n            { actionName: GA.DEL_NODE, parameters: [node.id()] },\n            {\n                actionName: GA.ADD_NODE,\n                parameters: [label, style, type, position, data, node.id()],\n            },\n            tid,\n        );\n        return node;\n    }\n\n    getEdgesBetweenNodes(sourceId, targetId) {\n        return this.getById(sourceId).edgesWith(this.getById(targetId));\n    }\n\n    getBendingD(sourceId, targetId) {\n        const edges = this.getEdgesBetweenNodes(sourceId, targetId);\n        const dists = new Set();\n        edges.forEach((edge) => {\n            dists.add(edge.data('style').bendDistance);\n        });\n        for (let d = 0; ;d += 20) {\n            if (!dists.has(d)) return d;\n            if (!dists.has(-d)) return -d;\n        }\n    }\n\n    parseBendinDW(rawStyle, sourceId, targetId, type) {\n        if (type !== 'ordin') return { ...rawStyle, bendDistance: 0, bendWeight: 0 };\n        if (rawStyle.bendDistance && rawStyle.bendWeight) return rawStyle;\n        if (rawStyle.bendPoint) {\n            const { x, y } = rawStyle.bendPoint;\n            const { d, w } = BendingDistanceWeight.getWeightDistance(\n                { x, y }, this.getById(sourceId).position(), this.getById(targetId).position(),\n            );\n            return { ...rawStyle, bendDistance: d, bendWeight: w };\n        }\n        return { ...rawStyle, bendDistance: this.getBendingD(sourceId, targetId), bendWeight: 0.5 };\n    }\n\n    addEdgeWithLabel(source, target, label, rawStyle = {}, type = 'ordin', id, tid = this.getTid()) {\n        const style = this.parseBendinDW(rawStyle, source, target, type);\n        const edge = this.cy.add({\n            group: 'edges',\n            data: {\n                source, target, label, type, id, style,\n            },\n        });\n        this.addAction(\n            { actionName: GA.DEL_EDGE, parameters: [edge.id()] },\n            { actionName: GA.ADD_EDGE, parameters: [source, target, label, style, type, edge.id()] },\n            tid,\n        );\n\n        return edge;\n    }\n\n    addEdge(source, target, label, rawStyle = {}, type = 'ordin', id, tid = this.getTid()) {\n        if (type === 'ordin' && label) {\n            return this.addEdgeWithLabel(source, target, label, rawStyle, type, id, tid);\n        }\n        this.dispatcher({\n            type: T.Model_Open_Create_Edge,\n            cb: (edgeLabel, edgeStyle) => {\n                const message = this.validiateEdge(edgeLabel, edgeStyle, source, target);\n                if (message.ok) this.addEdgeWithLabel(source, target, edgeLabel, edgeStyle, type, id, tid);\n                return message;\n            },\n        });\n        return undefined;\n    }\n\n    getStyle(id) {\n        return this.getById(id).data('style');\n    }\n\n    getLabel(id) {\n        return this.getById(id).data('label') || this.getById(id).data('label');\n    }\n\n    updateNode(id, style, label, shouldUpdateLabel, tid = this.getTid()) {\n        this.addAction(\n            {\n                actionName: GA.UPDATE_NODE,\n                parameters: [id, this.getStyle(id), this.getById(id).data('label'), shouldUpdateLabel],\n            },\n            { actionName: GA.UPDATE_NODE, parameters: [id, style, label, shouldUpdateLabel] },\n            tid,\n        );\n        if (shouldUpdateLabel) this.getById(id).data('label', label);\n        this.getById(id).data('style', style);\n    }\n\n    updateEdge(id, style, label, shouldUpdateLabel, tid = this.getTid()) {\n        this.addAction(\n            {\n                actionName: GA.UPDATE_EDGE,\n                parameters: [id, this.getStyle(id), this.getById(id).data('label'), shouldUpdateLabel],\n            },\n            { actionName: GA.UPDATE_EDGE, parameters: [id, style, label, shouldUpdateLabel] },\n            tid,\n        );\n        if (shouldUpdateLabel) this.getById(id).data('label', label);\n        this.getById(id).data('style', style);\n    }\n\n    updateData(id, key, val, tid = this.getTid()) {\n        this.addAction(\n            { actionName: GA.UPDATE_DATA, parameters: [id, key, this.getById(id).data(key)] },\n            { actionName: GA.UPDATE_DATA, parameters: [id, key, val] }, tid,\n        );\n        this.getById(id).data(key, val);\n        return this;\n    }\n\n    deleteNode(id, tid = this.getTid()) {\n        const node = this.getById(id);\n        node.connectedEdges('[type=\"ordin\"]').forEach((edge) => this.deleteEdge(edge.id(), tid));\n        node.connectedEdges().forEach((edge) => this.deleteEdge(edge.id(), tid));\n        this.addAction(\n            {\n                actionName: GA.ADD_NODE,\n                parameters: [\n                    node.data('label'), this.getStyle(node.id()), node.data('type'),\n                    node.position(), node.json().data, id,\n                ],\n            },\n            { actionName: GA.DEL_NODE, parameters: [id] }, tid,\n        );\n        node.remove();\n    }\n\n    deleteEdge(id, tid = this.getTid()) {\n        if (this.getById(id).length === 0 || this.getById(id).removed()) return;\n        const jsonEd = this.getById(id).json();\n        this.addAction(\n            {\n                actionName: GA.ADD_EDGE,\n                parameters: [\n                    jsonEd.data.source, jsonEd.data.target, jsonEd.data.label, this.getStyle(id), jsonEd.data.type, id,\n                ],\n            },\n            { actionName: GA.DEL_EDGE, parameters: [id] }, tid,\n        );\n        this.getById(id).remove();\n    }\n\n    deleteElem(id, tid = this.getTid()) {\n        if (this.getById(id).isNode()) return this.deleteNode(id, tid);\n        return this.deleteEdge(id, tid);\n    }\n\n    setPos(id, pos) {\n        this.getById(id).position(pos);\n        this.getById(id).emit('moved');\n    }\n\n    setDim(id, dim, pos) {\n        const style = this.getById(id).data('style');\n        this.getById(id).data('style', { ...style, height: dim.height, width: dim.width });\n        this.setPos(id, pos);\n    }\n\n    getNodeValidator() {\n        const [a, b] = [this.nodeValidator.toString().indexOf('{'), this.nodeValidator.toString().lastIndexOf('}')];\n        return this.nodeValidator.toString().slice(a + 1, b).trim();\n    }\n\n    getEdgeValidator() {\n        const [a, b] = [this.edgeValidator.toString().indexOf('{'), this.edgeValidator.toString().lastIndexOf('}')];\n        return this.edgeValidator.toString().slice(a + 1, b).trim();\n    }\n\n    setEdgeNodeValidator({ nodeValidator, edgeValidator }) {\n        // eslint-disable-next-line no-eval\n        this.nodeValidator = eval(nodeValidator);\n        // eslint-disable-next-line no-eval\n        this.edgeValidator = eval(edgeValidator);\n    }\n\n    getNodesEdges() {\n        const nodes = this.cy.$('node[type=\"ordin\"]').map((node) => ({\n            label: node.data('label'),\n            style: node.data('style'),\n            id: node.data('id'),\n        }));\n        const edges = this.cy.$('edge[type=\"ordin\"]').map((edge) => ({\n            label: edge.data('label'),\n            source: this.getById(this.getRealSourceId(edge.source().id())).data('label'),\n            target: edge.target().data('label'),\n            style: edge.data('style'),\n            id: edge.data('id'),\n        }));\n        return [nodes, edges];\n    }\n\n    validiateComp(comp, validator) {\n        const [nodes, edges] = this.getNodesEdges();\n        try {\n            const message = validator(comp, nodes, edges);\n            if (message && message.ok !== undefined && message.err !== undefined) return message;\n            return { ok: false, err: 'Invalid return format from the defined node validator.' };\n        } catch (e) {\n            return { ok: false, err: `Error raised at node validator: ${e.message}` };\n        }\n    }\n\n    validiateNode(label, style, id) {\n        if (id) {\n            const node = this.getById(id);\n            return this.validiateComp({\n                label: label || node.data('label'),\n                style: style || node.data('style'),\n                id,\n            }, this.nodeValidator);\n        }\n        return this.validiateComp({ label, style, id }, this.nodeValidator);\n    }\n\n    validiateEdge(label, style, source, target, id) {\n        if (id) {\n            const edge = this.getById(id);\n            return this.validiateComp({\n                label: label || edge.data('label'),\n                style: style || edge.data('style'),\n                source: this.getById(this.getRealSourceId(edge.source().id())).data('label'),\n                target: edge.target().data('label'),\n                id,\n            }, this.edgeValidator);\n        }\n        return this.validiateComp({\n            label, style, source, target, id,\n        }, this.edgeValidator);\n    }\n};\n\nexport default GraphComponent;\n","const style = [\n    {\n        selector: '*',\n        style: {\n            overlayOpacity: '0',\n        },\n    },\n    {\n        selector: 'node[type = \"ordin\"]',\n        style: {\n            content: 'data(label)',\n            zIndex: 100,\n            width: 'data(style.width)',\n            height: 'data(style.height)',\n            shape: 'data(style.shape)',\n            opacity: 'data(style.opacity)',\n            backgroundColor: 'data(style.backgroundColor)',\n            borderColor: 'data(style.borderColor)',\n            borderWidth: 'data(style.borderWidth)',\n            textValign: 'center',\n            textHalign: 'center',\n        },\n    },\n    {\n        selector: 'node[type=\"special\"]',\n        style: {\n            width: 8,\n            height: 8,\n            backgroundColor: 'data(style.backgroundColor)',\n            zIndex: 1000,\n        },\n    },\n\n    {\n        selector: 'edge',\n        style: {\n            curveStyle: 'bezier',\n            targetArrowShape: 'triangle',\n        },\n    },\n    {\n        selector: 'edge[type = \"ordin\"]',\n        style: {\n            width: 'data(style.thickness)',\n            lineColor: 'data(style.backgroundColor)',\n            targetArrowColor: 'data(style.backgroundColor)',\n            curveStyle: 'segments',\n            segmentDistances: 'data(style.bendDistance)',\n            segmentWeights: 'data(style.bendWeight)',\n            edgeDistances: 'node-position',\n            lineStyle: 'data(style.shape)',\n        },\n    },\n    {\n        selector: 'edge[label]',\n        style: {\n            label: 'data(label)',\n            edgeTextRotation: 'autorotate',\n            zIndex: 999,\n            textBackgroundOpacity: 1,\n            color: '#000',\n            textBackgroundColor: '#fff',\n            textBackgroundShape: 'roundrectangle',\n            textBorderColor: '#fff',\n            textBorderWidth: 2,\n            textBorderOpacity: 1,\n        },\n    },\n    {\n        selector: '.hidden',\n        style: {\n            display: 'none',\n        },\n    },\n    {\n        selector: '.eh-handle,node[type=\"bend\"]',\n        style: {\n            height: 25,\n            width: 25,\n            opacity: 0.4,\n            borderWidth: 5,\n            borderOpacity: 0.1,\n        },\n    },\n    {\n        selector: 'node[type=\"bend\"]',\n        style: {\n            backgroundColor: '#9575cd',\n        },\n    },\n    {\n        selector: '.eh-handle',\n        style: {\n            backgroundColor: '#f50057',\n        },\n    },\n    {\n        selector: ':selected',\n        style: {\n            overlayColor: '#000',\n            overlayOpacity: 0.1,\n            overlayPadding: 5,\n        },\n    },\n\n];\n\nexport default style;\n","import style from './cytoscape-style';\n\nconst options = {\n    style: [...style],\n    zoomingEnabled: true,\n    userZoomingEnabled: true,\n    minZoom: 0.25,\n    maxZoom: 5,\n};\n\nexport default options;\n","const getSet = () => {\n    const ALL_GRAPHS = 'ALL_GRAPHS';\n    if (!window.localStorage.getItem(ALL_GRAPHS)) {\n        window.localStorage.setItem(ALL_GRAPHS, window.btoa(JSON.stringify([])));\n    }\n    return new Set(JSON.parse(window.atob(window.localStorage.getItem(ALL_GRAPHS))));\n};\n\nconst localStorageManager = {\n    ALL_GRAPHS: 'ALL_GRAPHS',\n\n    allgs: getSet(),\n\n    saveAllgs() {\n        window.localStorage.setItem(this.ALL_GRAPHS, window.btoa(JSON.stringify(Array.from(this.allgs))));\n    },\n\n    addEmptyIfNot() {\n        if (!window.localStorage.getItem(this.ALL_GRAPHS)) {\n            window.localStorage.setItem(this.ALL_GRAPHS, window.btoa(JSON.stringify([])));\n        }\n    },\n\n    get(id) {\n        if (window.localStorage.getItem(id) === null) return null;\n        return JSON.parse(window.atob(window.localStorage.getItem(id)));\n    },\n    save(id, graphContent) {\n        this.addGraph(id);\n        const serializedJson = JSON.stringify(graphContent);\n        window.localStorage.setItem(id, window.btoa(serializedJson));\n    },\n    remove(id) {\n        if (this.allgs.delete(id)) this.saveAllgs();\n        localStorage.removeItem(id);\n    },\n    addGraph(id) {\n        if (this.allgs.has(id)) return;\n        this.allgs.add(id);\n        this.saveAllgs();\n    },\n    getAllGraphs() {\n        return JSON.parse(window.atob(window.localStorage.getItem(this.ALL_GRAPHS)));\n    },\n    addToFront(id) {\n        if (this.allgs.has(id)) return;\n        this.allgs.add(id);\n        const Garr = JSON.parse(window.atob(window.localStorage.getItem(this.ALL_GRAPHS)));\n        Garr.unshift(id);\n        window.localStorage.setItem(this.ALL_GRAPHS, window.btoa(JSON.stringify(Garr)));\n    },\n};\nexport default localStorageManager;\n","const nodeML = ({\n  label, id, posX, posY, width, height, opacity, shape, backgroundColor, borderColor, borderWidth,\n}) => ({\n  $: {\n    id,\n  },\n  data: [\n    {\n      $: {\n        key: 'd6',\n      },\n      'y:ShapeNode': [\n        {\n          'y:Geometry': [\n            {\n              $: {\n                height,\n                width,\n                x: posX,\n                y: posY,\n              },\n            },\n          ],\n          'y:Fill': [\n            {\n              $: {\n                color: backgroundColor,\n                opacity,\n              },\n            },\n          ],\n          'y:BorderStyle': [\n            {\n              $: {\n                color: borderColor,\n                width: borderWidth,\n              },\n            },\n          ],\n          'y:NodeLabel': [label],\n          'y:Shape': [\n            {\n              $: {\n                type: shape,\n              },\n            },\n          ],\n        },\n      ],\n    },\n  ],\n});\n\nexport default nodeML;\n","const graphML = ({\n  nodes, edges, id, projectName, author,\n}) => ({\n  graphml: {\n    $: {\n      xmlns: 'http://graphml.graphdrawing.org/xmlns',\n      'xmlns:xsi': 'http://www.w3.org/2001/XMLSchema-instance',\n      'xsi:schemaLocation': 'http://graphml.graphdrawing.org/xmlns http://www.yworks.com/xml/schema/graphml/1.1/ygraphml.xsd',\n      'xmlns:y': 'http://www.yworks.com/xml/graphml',\n    },\n    key: [\n      {\n        $: {\n          for: 'node',\n          id: 'd6',\n          'yfiles.type': 'nodegraphics',\n        },\n      },\n      {\n        $: {\n          for: 'edge',\n          id: 'd10',\n          'yfiles.type': 'edgegraphics',\n        },\n      },\n    ],\n    graph: [\n      {\n        $: {\n          edgedefault: 'directed',\n          id,\n          projectName,\n          author,\n        },\n        node: nodes,\n        edge: edges,\n      },\n    ],\n  },\n});\n\nexport default graphML;\n","const edgeML = ({\n  id, label, source, target, lineColor, lineWidth, bendPoint,\n}) => ({\n  $: {\n    id,\n    source,\n    target,\n  },\n  data: [\n    {\n      $: {\n        key: 'd10',\n      },\n      'y:GenericEdge': [\n        {\n          $: {\n            configuration: 'com.yworks.bpmn.Connection',\n          },\n          'y:LineStyle': [\n            {\n              $: {\n                color: lineColor,\n                width: lineWidth,\n              },\n            },\n          ],\n          'y:Arrows': [\n            {\n              $: {\n                source: 'none',\n                target: 'delta',\n              },\n            },\n          ],\n          'y:EdgeLabel': [label],\n          'y:Path': [\n            {\n              $: {\n                sx: '0.0',\n                sy: '0.0',\n                tx: '0.0',\n                ty: '0.0',\n              },\n              'y:Point': [\n                { $: bendPoint },\n              ],\n            },\n          ],\n        },\n      ],\n    },\n  ],\n});\n\nexport default edgeML;\n","import xml2js from 'xml2js';\nimport nodeML from './nodeML';\nimport graphML from './graphML';\nimport edgeML from './edgeML';\n\nconst builder = (G) => {\n    const nodes = G.nodes.map((node) => (nodeML({\n        label: node.label,\n        id: node.id,\n        posX: node.position.x,\n        posY: node.position.y,\n        ...node.style,\n    })));\n    const edges = G.edges.map((edg, i) => edgeML({\n        id: i,\n        label: edg.label,\n        source: edg.source,\n        target: edg.target,\n        lineColor: edg.style.backgroundColor,\n        lineWidth: edg.style.thickness,\n        bendPoint: edg.style.bendPoint,\n    }));\n    const X = graphML({\n        nodes, edges, projectName: G.projectDetails.projectName, author: G.projectDetails.author, id: G.id,\n    });\n    const xml = new xml2js.Builder().buildObject(X);\n    return xml;\n};\nexport default builder;\n","import { saveAs } from 'file-saver';\nimport { actionType as T } from '../reducer';\nimport localStorageManager from './local-storage-manager';\nimport graphmlBuilder from './graphml/builder';\nimport BendingDistanceWeight from './calculations/bending-dist-weight';\n\nconst GraphLoadSave = (ParentClass) => class extends ParentClass {\n    constructor(...args) {\n        super(...args);\n        this.autoSaveIntervalId = null;\n    }\n\n    regesterEvents() {\n        if (super.regesterEvents) super.regesterEvents();\n        this.cy.on('add remove data dragfreeon', 'node[type=\"ordin\"]', this.saveLocalStorage.bind(this));\n        this.cy.on('add remove data', 'edge[type=\"ordin\"]', this.saveLocalStorage.bind(this));\n        this.cy.on('nodeediting.resizeend graph-modified', this.saveLocalStorage.bind(this));\n    }\n\n    downloadImg(format) {\n        if (format === 'PNG') saveAs(this.cy.png(), `${this.getName()}-DHGWorkflow.png`);\n        if (format === 'JPG') saveAs(this.cy.png(), `${this.getName()}-DHGWorkflow.jpg`);\n    }\n\n    shouldNodeBeSaved(nodeID) {\n        return this.getById(nodeID).data('type') === 'ordin';\n    }\n\n    shouldEdgeBeSaved(edgeID) {\n        return this.getById(edgeID).data('type') === 'ordin';\n    }\n\n    // eslint-disable-next-line class-methods-use-this\n    getRealSourceId(nodeID) {\n        return nodeID;\n    }\n\n    jsonifyGraph() {\n        const graph = {\n            nodes: [], edges: [], projectDetails: this.projectDetails, id: this.id,\n        };\n        this.cy.nodes().forEach((node) => {\n            if (this.shouldNodeBeSaved(node.id())) {\n                const all = node.json();\n                const nodeJson = {\n                    label: all.data.label,\n                    id: all.data.id,\n                    position: all.position,\n                };\n                nodeJson.style = this.getStyle(node.id());\n                graph.nodes.push(nodeJson);\n            }\n        });\n        this.cy.edges().forEach((edge) => {\n            if (this.shouldEdgeBeSaved(edge.id())) {\n                const all = edge.json();\n                const edgeJson = {\n                    source: this.getRealSourceId(edge.source().id()),\n                    target: all.data.target,\n                    label: all.data.label,\n                };\n                edgeJson.style = this.getStyle(edge.id());\n                edgeJson.style.bendPoint = BendingDistanceWeight.getCoordinate(\n                    edgeJson.style.bendWeight, edgeJson.style.bendDistance,\n                    edge.source().position(), edge.target().position(),\n                );\n                graph.edges.push(edgeJson);\n            }\n        });\n        return graph;\n    }\n\n    getName() {\n        return `${this.projectDetails.projectName}-${this.projectDetails.author}`;\n    }\n\n    saveToDisk() {\n        const str = graphmlBuilder(this.jsonifyGraph());\n        const bytes = new TextEncoder().encode(str);\n        const blob = new Blob([bytes], { type: 'application/json;charset=utf-8' });\n        saveAs(blob, `${this.getName()}-DHGWorkflow-${new Date().getTime()}.graphml`);\n    }\n\n    loadJson(content) {\n        const tid = new Date().getTime();\n        content.nodes.forEach((node) => {\n            this.addNode(node.label, node.style, 'ordin', node.position, { }, node.id, tid);\n        });\n        content.edges.forEach((edge) => {\n            this.addEdge(edge.source, edge.target, edge.label, edge.style, 'ordin', undefined, tid);\n        });\n        this.projectDetails = content.projectDetails;\n        this.dispatcher({\n            type: T.SET_PROJECT_DETAILS,\n            payload: {\n                projectDetails: content.projectDetails,\n                id: this.id,\n            },\n        });\n    }\n\n    saveLocalStorage() {\n        if (this.autoSaveTimeoutId !== null) clearTimeout(this.autoSaveIntervalId);\n        this.autoSaveIntervalId = setTimeout(() => localStorageManager.save(this.id, this.jsonifyGraph()), 1000);\n    }\n\n    loadGraphFromLocalStorage() {\n        const graphContent = localStorageManager.get(this.id);\n        if (!graphContent) return false;\n        this.loadJson(graphContent);\n        return true;\n    }\n\n    serializeGraph() {\n        return btoa(JSON.stringify(this.jsonifyGraph()));\n    }\n};\n\nexport default GraphLoadSave;\n","const GraphCanvas = (ParentClass) => class extends ParentClass {\n    resetZoom() {\n        this.cy.reset();\n    }\n\n    setOnZoom(cb) {\n        this.cy.removeListener('zoom');\n        this.setZoomUI = cb;\n        this.cy.on('zoom', (e) => cb(Math.round(100 * e.target.zoom())));\n    }\n\n    fitZoom() {\n        this.cy.fit();\n    }\n\n    setZoom(v) {\n        this.cy.zoom(v / 100);\n    }\n\n    getZoom() {\n        return Math.round(this.cy.zoom() * 100);\n    }\n\n    clearAll() {\n        if (this.cy.elements().length === 0) return true;\n        // eslint-disable-next-line no-alert\n        if (!window.confirm('Do want to clear all elements?')) return false;\n        const tid = new Date().getTime();\n        this.cy.elements().forEach((el) => this.deleteElem(el.id(), tid));\n        return true;\n    }\n\n    setCurStatus() {\n        if (super.setCurStatus) super.setCurStatus();\n        this.setZoomUI(Math.round(this.cy.zoom() * 100));\n    }\n};\n\nexport default GraphCanvas;\n","import GraphComponent from './graph-component';\nimport GA from './graph-actions';\nimport { actionType as T } from '../reducer';\n\nconst GraphUndoRedo = (ParentClass) => class GUR extends GraphComponent(ParentClass) {\n    constructor(...props) {\n        super(...props);\n\n        GUR.methodsMapped = {\n            [GA.ADD_NODE]: (...args) => super.addNode.bind(this)(...args, 0),\n            [GA.ADD_EDGE]: (...args) => super.addEdge.bind(this)(...args, 0),\n            [GA.UPDATE_NODE]: (...args) => super.updateNode.bind(this)(...args, 0),\n            [GA.UPDATE_EDGE]: (...args) => super.updateEdge.bind(this)(...args, 0),\n            [GA.UPDATE_DATA]: (...args) => super.updateData.bind(this)(...args, 0),\n            [GA.DEL_NODE]: (...args) => super.deleteNode.bind(this)(...args, 0),\n            [GA.DEL_EDGE]: (...args) => super.deleteEdge.bind(this)(...args, 0),\n            [GA.SET_POS]: (...args) => super.setPos.bind(this)(...args, 0),\n            [GA.SET_DIM]: (...args) => super.setDim.bind(this)(...args, 0),\n        };\n\n        this.actionArr = [];\n        this.curActionIndex = 0;\n    }\n\n    static performAction({ actionName, parameters }) {\n        const action = GUR.methodsMapped[actionName];\n        action(...parameters);\n    }\n\n    addPositionChange(id, prevPos, curPos) {\n        const tid = new Date().getTime();\n        this.addAction(\n            { actionName: GA.SET_POS, parameters: [id, prevPos] },\n            { actionName: GA.SET_POS, parameters: [id, curPos] }, tid,\n        );\n    }\n\n    addDimensionChange(id, prevDim, prevPos, curDim, curPos) {\n        const tid = new Date().getTime();\n        this.addAction(\n            { actionName: GA.SET_DIM, parameters: [id, prevDim, prevPos] },\n            { actionName: GA.SET_DIM, parameters: [id, curDim, curPos] }, tid,\n        );\n    }\n\n    addAction(inverse, equivalent, tid) {\n        if (tid === 0) return;\n        this.actionArr.splice(this.curActionIndex);\n        this.actionArr.push({ tid, inverse, equivalent });\n        this.curActionIndex += 1;\n        this.dispatcher({ type: T.SET_UNDO, payload: this.curActionIndex !== 0 });\n        this.dispatcher({ type: T.SET_REDO, payload: this.curActionIndex !== this.actionArr.length });\n    }\n\n    undo() {\n        let curTid = null;\n        if (this.curActionIndex !== 0) curTid = this.actionArr[this.curActionIndex - 1].tid;\n        while (this.curActionIndex !== 0 && this.actionArr[this.curActionIndex - 1].tid === curTid) {\n            this.curActionIndex -= 1;\n            GUR.performAction(this.actionArr[this.curActionIndex].inverse);\n        }\n        this.dispatcher({ type: T.SET_UNDO, payload: this.curActionIndex !== 0 });\n        this.dispatcher({ type: T.SET_REDO, payload: this.curActionIndex !== this.actionArr.length });\n    }\n\n    redo() {\n        let curTid = null;\n        if (this.curActionIndex !== this.actionArr.length) curTid = this.actionArr[this.curActionIndex].tid;\n        while (this.curActionIndex !== this.actionArr.length && this.actionArr[this.curActionIndex].tid === curTid) {\n            GUR.performAction(this.actionArr[this.curActionIndex].equivalent);\n            this.curActionIndex += 1;\n        }\n        this.dispatcher({ type: T.SET_UNDO, payload: this.curActionIndex !== 0 });\n        this.dispatcher({ type: T.SET_REDO, payload: this.curActionIndex !== this.actionArr.length });\n    }\n\n    setCurStatus() {\n        if (super.setCurStatus) super.setCurStatus();\n        this.dispatcher({ type: T.SET_UNDO, payload: this.curActionIndex !== 0 });\n        this.dispatcher({ type: T.SET_REDO, payload: this.curActionIndex !== this.actionArr.length });\n    }\n};\n\nexport default GraphUndoRedo;\n","import { actionType as T } from '../reducer';\nimport GraphLoadSave from './graph-load-save';\nimport GraphCanvas from './graph-canvas';\nimport GraphUndoRedo from './graph-undo-redo';\nimport BendingDistanceWeight from './calculations/bending-dist-weight';\n\nconst CoreGraph = (ParentClass) => class CG extends\n    GraphLoadSave(GraphCanvas(GraphUndoRedo(ParentClass))) {\n    constructor(id, cy, dispatcher, superState, projectDetails, nodeValidator, edgeValidator) {\n        super(id, cy, dispatcher, superState, projectDetails, nodeValidator, edgeValidator);\n        if (dispatcher) this.dispatcher = dispatcher;\n        if (superState) this.superState = superState;\n        if (cy) this.cy = cy;\n        this.id = id;\n        this.projectDetails = projectDetails;\n        this.cy.emit('graph-modified');\n        this.bendNode = this.cy.add(\n            { group: 'nodes', data: { type: 'bend' }, classes: ['hidden'] },\n        );\n        this.regesterEvents();\n        this.cy.emit('graph-modified');\n    }\n\n    setProjectDetail(projectDetails) {\n        this.projectDetails = projectDetails;\n        this.cy.emit('graph-modified');\n    }\n\n    getById(x) {\n        return this.cy.getElementById(x);\n    }\n\n    set({ cy, dispatcher, superState }) {\n        if (dispatcher) this.dispatcher = dispatcher;\n        if (superState) this.superState = superState;\n        if (cy) this.cy = cy;\n    }\n\n    selectDeselectEventHandler() {\n        const els = this.cy.$(':selected');\n        if (els.length === 0) { return this.dispatcher({ type: T.ELE_UNSELECTED }); }\n        let type;\n        if (els.every((e) => e.isNode())) type = 'NODE';\n        else if (els.every((e) => e.isEdge())) type = 'EDGE';\n        else type = 'MIX';\n        const ids = els.map((e) => e.data('id'));\n        return this.dispatcher({\n            type: T.ELE_SELECTED,\n            payload: {\n                ids, type,\n            },\n        });\n    }\n\n    regesterEvents() {\n        if (super.regesterEvents) super.regesterEvents();\n        this.cy.on('select unselect', () => this.selectDeselectEventHandler());\n        this.cy.on('grab', (e) => {\n            e.target.forEach((node) => {\n                node.scratch('position', { ...node.position() });\n            });\n        });\n        this.cy.on('dragfree', (e) => {\n            e.target.forEach((node) => {\n                this.addPositionChange(node.id(), node.scratch('position'), { ...node.position() });\n            });\n        });\n        this.cy.on('nodeediting.resizestart', (e, type, node) => {\n            node.scratch('height', node.data('style').height);\n            node.scratch('width', node.data('style').width);\n            node.scratch('position', { ...node.position() });\n        });\n        this.cy.on('nodeediting.resizeend', (e, type, node) => {\n            this.addDimensionChange(\n                node.id(),\n                { height: node.scratch('height'), width: node.scratch('width') },\n                node.scratch('position'),\n                { height: node.data('style').height, width: node.data('style').width },\n                { ...node.position() },\n            );\n        });\n\n        this.cy.on('hide-bend remove', () => {\n            this.bendNode.removeListener('drag'); this.bendNode.addClass('hidden');\n        });\n\n        this.cy.on('grabon', (evt) => (evt.target[0].data('type') !== 'bend' ? this.cy.emit('hide-bend') : 0));\n        this.cy.on('freeon', (evt) => (evt.target[0].data('type') !== 'bend' ? this.cy.emit('show-bend') : 0));\n\n        this.cy.on('click tap', (ev) => {\n            if (ev.target === this.cy) {\n                this.cy.emit('hide-bend');\n                this.cy.$('.eh-handle').remove();\n            }\n        });\n        this.cy.on('select unselect show-bend', () => {\n            const el = this.cy.$(':selected');\n            if (el.length !== 1 || !el[0].isEdge()) this.cy.emit('hide-bend');\n            return el.emit('bend-edge');\n        });\n        this.cy.on('mouseover', 'edge', (ev) => {\n            ev.target.emit('bend-edge');\n        });\n\n        this.cy.on('bend-edge', 'edge', (ev) => {\n            if (!this.bendNode.hasClass('hidden')) this.cy.emit('hide-bend');\n            const el = ev.target;\n            this.bendNode.position(CG.getBendEdgePoint(el));\n            this.bendNode.on('drag', () => {\n                const DW = BendingDistanceWeight.getWeightDistance(\n                    this.bendNode.position(), el.source().position(), el.target().position(),\n                );\n                el.data('style', { ...el.data('style'), bendDistance: DW.d, bendWeight: DW.w });\n                ev.target.emit('bending');\n            });\n            this.bendNode.removeClass('hidden');\n        });\n    }\n\n    static getBendEdgePoint(el) {\n        const { bendWeight, bendDistance } = el.data('style');\n        const w = parseFloat(bendWeight);\n        const d = parseFloat(bendDistance);\n        return BendingDistanceWeight.getCoordinate(w, d, el.source().position(), el.target().position());\n    }\n\n    setCurStatus() {\n        if (super.setCurStatus) super.setCurStatus();\n        this.selectDeselectEventHandler();\n    }\n};\n\nexport default CoreGraph;\n","const boundaryPoint = {\n    getEq(P1, P2) {\n        const m = (P1.y - P2.y) / (P1.x - P2.x);\n        const c = P1.y - m * P1.x;\n        return [m, c];\n    },\n    getX1X2(Cn, P, w, h) {\n        if (Cn.x === P.x) return [P.x, P.x];\n        const P2 = { x: P.x - Cn.x, y: P.y - Cn.y };\n        const [m, c] = this.getEq({ x: 0, y: 0 }, P2);\n        // (22+2)2+22+2(22)\n        const A = (w ** 2 * m ** 2 + h ** 2);\n        const B = 2 * w ** 2 * m * c;\n        const C = w ** 2 * (c ** 2 - h ** 2);\n        const D = B ** 2 - 4 * A * C;\n        const x1 = (-B + D ** 0.5) / (2 * A) + Cn.x;\n        const x2 = (-B - D ** 0.5) / (2 * A) + Cn.x;\n        return [x1, x2];\n    },\n    getY1Y2(C, P, w, h, x1, x2) {\n        if (x1 === x2) return [C.y + h, C.y - h];\n        const [m, c] = this.getEq(C, P);\n        return [m * x1 + c, m * x2 + c];\n    },\n    dist(A, B) {\n        return ((A.x - B.x) ** 2 + (A.y - B.y) ** 2) ** 0.5;\n    },\n    getClosestEllipse(C, P, w, h) {\n        const [x1, x2] = this.getX1X2(C, P, w, h);\n        const [y1, y2] = this.getY1Y2(C, P, w, h, x1, x2);\n        const [d1, d2] = [this.dist(P, { x: x1, y: y1 }), this.dist(P, { x: x2, y: y2 })];\n        if (d1 < d2) return { x: x1, y: y1 };\n        return { x: x2, y: y2 };\n    },\n    slope(x1, y1, x2, y2) {\n        return (x1 - x2) / (y1 - y2);\n    },\n\n    setSubQ(C, P, w, h) {\n        const [S1, S2] = [[C.x + w, C.y + h], [C.x + w, C.y - h]]\n            .map(([x, y]) => ((C.x - x) * (P.y - y) - (C.y - y) * (P.x - x)) > 0);\n        if (S1 && !S2) return 0;\n        if (!S1 && !S2) return 1;\n        if (!S1 && S2) return 2;\n        if (S1 && S2) return 3;\n        return -1;\n    },\n\n    getClosestRect(C, P, w, h) {\n        const [m, c] = this.getEq(P, C);\n        let D = [\n            [C.x + w, C.y],\n            [C.x, C.y + h],\n            [C.x - w, C.y],\n            [C.x, C.y - h],\n        ];\n        if (Math.abs(m) !== Infinity) {\n            D = [ // To point toward center\n                [C.x + w, m * (C.x + w) + c],\n                [(C.y + h - c) / m, C.y + h],\n                [C.x - w, m * (C.x - w) + c],\n                [(C.y - h - c) / m, C.y - h],\n            ];\n        }\n        const [x, y] = D[this.setSubQ(C, P, w, h)];\n        return { x, y };\n    },\n    get(C, P, w, h, type) {\n        if (type === 'rectangle') return boundaryPoint.getClosestRect(C, P, w, h);\n        return boundaryPoint.getClosestEllipse(C, P, w, h);\n    },\n\n};\n\nexport default boundaryPoint.get;\n","import TailoredGraphBuilder from './tailored-graph-builder';\n\nexport default TailoredGraphBuilder;\n","import CoreGraph from './core-graph-builder';\nimport { actionType as T } from '../reducer';\nimport getBoundaryPoint from './calculations/boundary-point';\n\nconst TailoredGraph = (ParentClass) => class TG extends CoreGraph(ParentClass) {\n    regesterEvents() {\n        super.regesterEvents();\n        this.cy.on('drag data', 'node[type=\"ordin\"]', (evt) => {\n            evt.target.connectedEdges().connectedNodes('node[type=\"special\"]').forEach((juncNode) => {\n                juncNode.position(TG.calJuncNodePos(juncNode));\n            });\n        });\n        this.cy.on('bending', (evt) => {\n            const juncNode = evt.target.source();\n            juncNode.position(TG.calJuncNodePos(juncNode));\n        });\n    }\n\n    static calJuncNodePos(juncNode) {\n        const parNode = juncNode.incomers('node')[0];\n        const meanNbrPosition = { x: 0, y: 0 };\n        const setOfPos = new Set();\n        juncNode.outgoers('edge[type=\"ordin\"]')\n            .forEach((edge) => setOfPos.add(JSON.stringify(TG.getBendEdgePoint(edge))));\n        setOfPos.forEach((posStr) => {\n            const pos = JSON.parse(posStr);\n            meanNbrPosition.x += pos.x;\n            meanNbrPosition.y += pos.y;\n        });\n        if (setOfPos.size === 0) return juncNode.position();\n        meanNbrPosition.x /= setOfPos.size;\n        meanNbrPosition.y /= setOfPos.size;\n        return getBoundaryPoint(\n            parNode.position(), meanNbrPosition,\n            parNode.data('style').width / 2,\n            parNode.data('style').height / 2,\n            parNode.data('style').shape,\n        );\n    }\n\n    getRealNode(juncNodeId) {\n        return this.getById(juncNodeId).incomers().filter('node')[0];\n    }\n\n    addAutoMove(juncNode) {\n        juncNode.unselectify();\n        return this;\n    }\n\n    addEdgeWithJuncNode(sourceID, targetID, edgeStyle = {}, tid) {\n        const juncNode = this.getById(sourceID);\n        const ed = super.addEdgeWithLabel(\n            sourceID, targetID,\n            juncNode.data('edgeLabel'),\n            { ...juncNode.data('edgeStyle'), bendDistance: edgeStyle.bendDistance, bendWeight: edgeStyle.bendWeight },\n            'ordin',\n            undefined, tid,\n        );\n        juncNode.position(TG.calJuncNodePos(juncNode));\n        return ed;\n    }\n\n    addEdgeWithoutJuncNode(sourceID, targetID, label, style, tid) {\n        const sourceNode = this.getById(sourceID);\n        const targetNode = this.getById(targetID);\n        const sourceNodeStyle = sourceNode.data('style');\n        const juncNodePos = getBoundaryPoint(\n            sourceNode.position(),\n            targetNode.position(),\n            sourceNodeStyle.width / 2,\n            sourceNodeStyle.height / 2,\n            sourceNodeStyle.shape,\n        );\n        const juncNode = super.addNode('', { backgroundColor: style.backgroundColor },\n            'special', juncNodePos, { edgeLabel: label, edgeStyle: style }, undefined, tid);\n        juncNode.ungrabify();\n        super.addEdgeWithLabel(sourceID, juncNode.id(), '', {\n            ...style,\n            'target-arrow-shape': 'none',\n        }, 'special', undefined, tid);\n        this.addAutoMove(juncNode, sourceNode);\n        return this.addEdgeWithJuncNode(juncNode.id(), targetID, style, tid);\n    }\n\n    addEdge(sourceID, targetID, label = '', style, type = 'ordin', id, tid = this.getTid()) {\n        if (this.getById(targetID).data('type') !== 'ordin') return this;\n        const sourceNode = this.getById(sourceID);\n        //  Condition never statisfies \n        if (type === 'special') return super.addEdgeWithLabel(sourceID, targetID, label, style, type, id, tid);\n        if (sourceNode.data('type') === 'special') return this.addEdgeWithJuncNode(sourceID, targetID, style, tid);\n        const juncNodes = sourceNode.outgoers('node').filter((node) => node.data('edgeLabel') === label);\n        if (juncNodes.length) return this.addEdgeWithJuncNode(juncNodes[0].id(), targetID, style, tid);\n        if (label.length) return this.addEdgeWithoutJuncNode(sourceID, targetID, label, style, tid);\n        this.dispatcher({\n            type: T.Model_Open_Create_Edge,\n            cb: (edgeLabel, edgeStyle) => {\n                const message = this.validiateEdge(edgeLabel, edgeStyle, sourceID, targetID);\n                if (message.ok) this.addEdgeWithoutJuncNode(sourceID, targetID, edgeLabel, edgeStyle, tid);\n                return message;\n            },\n        });\n        return this;\n    }\n\n    updateEdge(id, style, label, shouldUpdateLabel, tid = this.getTid()) {\n        const junctionNode = this.getById(id).source();\n        if (shouldUpdateLabel) this.updateData(junctionNode.data('id'), 'edgeLabel', label, tid);\n        this.updateData(junctionNode.data('id'), 'edgeStyle', style, tid);\n        this.updateNode([junctionNode.data('id')], { backgroundColor: style.backgroundColor }, '', false, tid);\n\n        junctionNode\n            .outgoers('edge')\n            .forEach((edge) => super.updateEdge(edge.data('id'), style, label, shouldUpdateLabel, tid));\n    }\n\n    deleteElem(id, tid = this.getTid()) {\n        const el = this.getById(id);\n        if (el.isNode()) {\n            if (el.removed()) return;\n            el.outgoers('node').forEach((x) => super.deleteElem(x.id(), tid));\n            el.connectedEdges().forEach((x) => this.deleteElem(x.id(), tid));\n            super.deleteNode(id, tid);\n        } else {\n            if (el.removed()) return;\n            const junctionNode = el.source();\n            super.deleteEdge(id, tid);\n            if (junctionNode) if (junctionNode.outgoers().length === 0) this.deleteNode(junctionNode.id(), tid);\n        }\n    }\n\n    getRealSourceId(nodeID) {\n        if (this.getById(nodeID).data('type') === 'ordin') return nodeID;\n        if (this.getById(nodeID).incomers('node').length === 0) return nodeID;\n        return this.getById(nodeID).incomers('node')[0].id();\n    }\n\n    getEdgesBetweenNodes(n1, n2) {\n        const [c1, c2] = [n1, n2]\n            .map((n) => this.getById(this.getRealSourceId(n)))\n            .map((r) => r.outgoers('node[type=\"special\"]').union(r));\n        return c1.edgesWith(c2);\n    }\n};\n\nexport default TailoredGraph;\n","import Slider from 'rc-slider';\nimport React, { useState } from 'react';\nimport { BiReset, BiRectangle } from 'react-icons/bi';\nimport 'rc-slider/assets/index.css';\nimport './zoomSetter.css';\nimport GraphOption from '../config/cytoscape-options';\n\nconst { minZoom, maxZoom } = GraphOption;\nconst marks = {};\n\nconst ZoomComp = ({ superState }) => {\n    const myGraph = superState.graphs[superState.curGraphIndex] && superState.graphs[superState.curGraphIndex].instance;\n    if (!myGraph) return <></>;\n    const [zoomValue, setZoomValue] = useState(myGraph.getZoom());\n    myGraph.setOnZoom(setZoomValue);\n    return (\n        <div>\n            <div className=\"zoom-comp\">\n                <div\n                    role=\"button\"\n                    tabIndex={0}\n                    className=\"zoom-box zoom-btn\"\n                    onClick={() => myGraph.resetZoom()}\n                    onKeyDown={(ev) => ev.key === ' ' && (myGraph.resetZoom())}\n                >\n                    <BiReset />\n\n                </div>\n                <div\n                    role=\"button\"\n                    tabIndex={0}\n                    className=\"zoom-box zoom-btn\"\n                    onClick={() => myGraph.fitZoom()}\n                    onKeyDown={(ev) => ev.key === ' ' && (myGraph.resetZoom())}\n                >\n                    <BiRectangle />\n\n                </div>\n                <div className=\"zoom-box zoom-value\">\n                    {zoomValue}\n                    %\n                </div>\n                <div className=\"slider\">\n                    <Slider\n                        min={100 * minZoom}\n                        max={100 * maxZoom}\n                        marks={marks}\n                        onChange={\n                            (value) => { myGraph.setZoom(value); setZoomValue(value); }\n                        }\n                        included={false}\n                        value={zoomValue}\n                    />\n                </div>\n            </div>\n        </div>\n    );\n};\n\nexport default ZoomComp;\n","class PropFromArr {\n    constructor(obj) {\n        this.arr = [obj];\n        this.flatenArr();\n    }\n\n    flatenArr() {\n        const flatArr = [];\n        for (let i = 0; i < this.arr.length; i += 1) {\n            if (this.arr[i].constructor === Array) this.arr[i].forEach((o) => this.arr.push(o));\n            else flatArr.push(this.arr[i]);\n        }\n        this.arr = flatArr;\n    }\n\n    G(p) {\n        return new PropFromArr(this.arr.map((o) => o[p]).filter((o) => o));\n    }\n\n    S(p) {\n        this.arr = this.arr.map((o) => o[p]).filter((o) => o);\n        this.flatenArr();\n        return this;\n    }\n\n    any() {\n        const arr = [];\n        this.arr.forEach((obj) => {\n            Object.keys(obj).forEach((key) => {\n                arr.push(obj[key]);\n            });\n        });\n        this.arr = arr;\n        this.flatenArr();\n        return this;\n    }\n\n    parseProps(s, t) {\n        const propFromArr = new PropFromArr(this.arr);\n        s.split('.').forEach(\n            (property) => (property === '*' ? propFromArr.any() : propFromArr.S(property)),\n        );\n        if (t === 1) return propFromArr.A();\n        if (t === 2) return propFromArr;\n        return propFromArr.F();\n    }\n\n    A() { return this.arr; }\n\n    F() { return this.arr[0]; }\n}\nexport default PropFromArr;\n","import PropFromArr from './PropFromArr';\n\nconst parseNode = (node) => {\n    const p = new PropFromArr(node).parseProps('data.y:ShapeNode', 2);\n    return {\n        label: p.parseProps('y:NodeLabel._') || p.parseProps('y:NodeLabel'),\n        id: new PropFromArr(node).parseProps('$.id'),\n        position: {\n            x: parseFloat(p.parseProps('y:Geometry.$.x')),\n            y: parseFloat(p.parseProps('y:Geometry.$.y')),\n        },\n        style: {\n            width: parseFloat(p.parseProps('y:Geometry.$.width')),\n            height: parseFloat(p.parseProps('y:Geometry.$.height')),\n            opacity: parseInt(p.parseProps('y:Fill.$.opacity'), 10) || 1,\n            shape: p.parseProps('y:Shape.$.type'),\n            backgroundColor: p.parseProps('y:Fill.$.color'),\n            borderColor: p.parseProps('y:BorderStyle.$.color'),\n            borderWidth: parseInt(p.parseProps('y:BorderStyle.$.width'), 10),\n        },\n    };\n};\n\nconst parseEdge = (edge) => ({\n    label: new PropFromArr(edge).parseProps('data.*.y:EdgeLabel._')\n             || new PropFromArr(edge).parseProps('data.*.y:EdgeLabel'),\n    source: new PropFromArr(edge).parseProps('$.source'),\n    target: new PropFromArr(edge).parseProps('$.target'),\n    style: {\n        backgroundColor: new PropFromArr(edge).parseProps('data.*.y:LineStyle.$.color'),\n        thickness: parseFloat(new PropFromArr(edge).parseProps('data.*.y:LineStyle.$.width')),\n        bendPoint: new PropFromArr(edge).parseProps('data.*.y:Path.y:Point.$'),\n    },\n});\n\nconst parseDetails = (grahML) => grahML.parseProps('graphml.graph.$');\n\nexport { parseNode, parseEdge, parseDetails };\n","import xml2js from 'xml2js';\nimport PropFromArr from './PropFromArr';\nimport { parseNode, parseEdge, parseDetails } from './parseProperties';\n\nconst parser = (graphMlCnt) => new Promise((resolve) => {\n    new xml2js.Parser().parseString(graphMlCnt, (err, grahMLObj) => {\n        const grahML = new PropFromArr(grahMLObj);\n        const nodes = grahML.parseProps('graphml.graph.node', 1).map(parseNode);\n        const edges = grahML.parseProps('graphml.graph.edge', 1).map(parseEdge);\n        const { id, projectName, author } = parseDetails(grahML);\n        const projectDetails = { projectName, author, set: Boolean(projectName && author) };\n        resolve({\n            id, projectDetails, edges, nodes,\n        });\n    });\n});\nexport default parser;\n","import { actionType as T } from '../reducer';\nimport localStorageManager from '../graph-builder/local-storage-manager';\nimport graphMLParser from '../graph-builder/graphml/parser';\n\nconst getGraphFun = (superState) => superState.graphs[superState.curGraphIndex]\n                                        && superState.graphs[superState.curGraphIndex].instance;\n\nconst createNode = (state, setState) => {\n    setState({\n        type: T.Model_Open_Create_Node,\n        cb: (label, style) => {\n            const message = getGraphFun(state).validiateNode(label, style);\n            if (message.ok) getGraphFun(state).addNode(label, style);\n            return message;\n        },\n    });\n};\n\nconst editElement = (state, setState) => {\n    const shouldUpdateLabel = state.eleSelectedPayload.ids.length === 1;\n    const tid = new Date().getTime();\n    if (state.eleSelectedPayload.type === 'NODE') {\n        setState({\n            type: T.Model_Open_Update_Node,\n            cb: (label, style) => state.eleSelectedPayload.ids.forEach(\n                (id) => getGraphFun(state).updateNode(id, style, label, shouldUpdateLabel, tid),\n            ),\n            labelAllowed: shouldUpdateLabel,\n            label: getGraphFun(state).getLabel(state.eleSelectedPayload.ids[0]),\n            style: getGraphFun(state).getStyle(state.eleSelectedPayload.ids[0]),\n        });\n    }\n    if (state.eleSelectedPayload.type === 'EDGE') {\n        setState({\n            type: T.Model_Open_Update_Edge,\n            cb: (label, style) => {\n                const retMessage = { ok: true, err: null };\n                state.eleSelectedPayload.ids.forEach((id) => {\n                    const message = getGraphFun(state).validiateEdge(\n                        shouldUpdateLabel ? label : null, style, null, null, id,\n                    );\n                    retMessage.ok = retMessage.ok && message.ok;\n                    retMessage.err = retMessage.err || message.err;\n                });\n                if (retMessage.ok) {\n                    state.eleSelectedPayload.ids.forEach(\n                        (id) => getGraphFun(state).updateEdge(id, style, label, shouldUpdateLabel, tid),\n                    );\n                }\n                return retMessage;\n            },\n            labelAllowed: shouldUpdateLabel,\n            label: getGraphFun(state).getLabel(state.eleSelectedPayload.ids[0]),\n            style: getGraphFun(state).getStyle(state.eleSelectedPayload.ids[0]),\n        });\n    }\n};\n\nconst deleteElem = (state) => {\n    const tid = new Date().getTime();\n    state.eleSelectedPayload.ids.forEach((id) => getGraphFun(state).deleteElem(id, tid));\n};\n\nconst downloadImg = (state, setState, format) => {\n    getGraphFun(state).downloadImg(format);\n};\n\nconst saveAction = (state) => {\n    getGraphFun(state).saveToDisk();\n};\n\nconst readFile = (state, setState, e) => {\n    if (e.target && e.target.files && e.target.files[0]) {\n        const fr = new FileReader();\n        fr.onload = (x) => {\n            graphMLParser(x.target.result).then((graphContent) => {\n                const id = new Date().getTime();\n                localStorageManager.save(id, graphContent);\n                setState({\n                    type: T.ADD_GRAPH,\n                    payload: { id, projectDetails: { ...graphContent.projectDetails, set: true } },\n                });\n            });\n        };\n        fr.readAsText(e.target.files[0]);\n    }\n};\n\nconst newProject = (state, setState) => {\n    setState({ type: T.NEW_GRAPH });\n};\n\nconst clearAll = (state) => {\n    getGraphFun(state).clearAll();\n};\n\nconst editDetails = (state, setState) => {\n    setState({\n        type: T.SET_PROJECT_DETAILS,\n        payload: {\n            projectDetails: { ...getGraphFun(state).projectDetails, set: false },\n            id: getGraphFun(state).id,\n        },\n    });\n};\nconst undo = (state) => {\n    if (getGraphFun(state))getGraphFun(state).undo();\n};\nconst redo = (state) => {\n    getGraphFun(state).redo();\n};\n\nconst openShareModal = (state, setState) => {\n    setState({ type: T.SET_SHARE_MODAL, payload: true });\n};\n\nconst openSettingModal = (state, setState) => {\n    setState({ type: T.SET_SETTING_MODAL, payload: true });\n};\n\nexport {\n    createNode, editElement, deleteElem, downloadImg, saveAction,\n    readFile, newProject, clearAll, editDetails, undo, redo,\n    openShareModal, openSettingModal,\n};\n","import React from 'react';\nimport {\n    MdEdit, MdClose, MdAdd,\n} from 'react-icons/md';\nimport hotkeys from 'hotkeys-js';\nimport ReactTooltip from 'react-tooltip';\nimport localStorageManager from '../graph-builder/local-storage-manager';\nimport { actionType as T } from '../reducer';\nimport { newProject, editDetails } from '../toolbarActions/toolbarFunctions';\nimport './tabBar.css';\n\nconst TabBar = ({ superState, dispatcher }) => {\n    const closeTab = (i, e) => {\n        e.stopPropagation();\n        // eslint-disable-next-line no-alert\n        if (!window.confirm('Do you confirm to close the tab? This action is irreversable.')) return;\n        localStorageManager.remove(superState.graphs[i] ? superState.graphs[i].id : null);\n        dispatcher({ type: T.REMOVE_GRAPH, payload: i });\n    };\n    const editCur = (e) => {\n        e.stopPropagation();\n        editDetails(superState, dispatcher);\n    };\n    React.useEffect(() => {\n        hotkeys('ctrl+shift+m,command+shift+m', (event) => {\n            event.preventDefault();\n            document.getElementById('new_graph').click();\n        });\n        hotkeys('ctrl+shift+e,command+shift+e', (event) => {\n            event.preventDefault();\n            const el = document.querySelector('.tab.tab-graph.selected > .tab-act.edit');\n            if (el) el.click();\n        });\n        hotkeys('ctrl+shift+l,command+shift+l', (event) => {\n            event.preventDefault();\n            const el = document.querySelector('.tab.tab-graph.selected > .tab-act.close');\n            if (el) el.click();\n        });\n    }, []);\n\n    return (\n        <div className=\"tab-par\">\n            <button\n                className=\"tab\"\n                onClick={newProject.bind(this, superState, dispatcher)}\n                type=\"button\"\n                id=\"new_graph\"\n                data-tip=\"New Workflow Tab (Ctrl + Shift + M)\"\n            >\n                <MdAdd size={25} />\n            </button>\n            {superState.graphs.map((el, i) => (\n                <div\n                    key={el.id}\n                    className={`tab tab-graph ${superState.curGraphIndex === i ? 'selected' : 'none'}`}\n                    onClick={() => dispatcher({ type: T.CHANGE_TAB, payload: i })}\n                    onKeyDown={(ev) => ev.key === ' ' && dispatcher({ type: T.CHANGE_TAB, payload: i })}\n                    role=\"button\"\n                    tabIndex={0}\n                    id={`tab_${i}`}\n                >\n                    <span className=\"tab-text\">\n                        {el.projectDetails.projectName}\n                        {el.projectDetails.author ? ' - ' : ''}\n                        {el.projectDetails.author}\n                    </span>\n\n                    {superState.curGraphIndex === i ? (\n                        <button\n                            className=\"tab-act edit\"\n                            onClick={editCur}\n                            type=\"button\"\n                            data-tip=\"Edit Workflow Details (Ctrl + Shift + E)\"\n                            data-for=\"header-tab\"\n                        >\n                            <MdEdit size={16} />\n                        </button>\n                    ) : <></>}\n                    <button\n                        className=\"tab-act close\"\n                        onClick={closeTab.bind(this, i)}\n                        type=\"button\"\n                        data-tip=\"Close current Workflow (Ctrl + Shift + L)\"\n                        data-for=\"header-tab\"\n                    >\n                        <MdClose size={20} />\n                    </button>\n                    <ReactTooltip place=\"bottom\" type=\"dark\" effect=\"solid\" id=\"header-tab\" />\n                </div>\n            ))}\n        </div>\n    );\n};\n\nexport default TabBar;\n","const nodeValidator = (node, nodes) => {\n    let message = { ok: true, err: null };\n    nodes.forEach((n) => {\n        if (n.label === node.label) {\n            message = {\n                ok: false,\n                err: 'Node with same label exists.',\n            };\n        }\n    });\n    return message;\n};\nconst edgeValidator = (edge, nodes, edges) => {\n    let message = { ok: true, err: null };\n    const originalEdge = edges.filter((n) => n.id === edge.id)[0];\n    edges.filter((n) => !originalEdge || n.source !== originalEdge.source || n.label !== originalEdge.label)\n        .forEach((n) => {\n            if (n.label === edge.label) {\n                message = {\n                    ok: false,\n                    err: 'Edge with same label exists.',\n                };\n            }\n        });\n    return message;\n};\n\nexport { nodeValidator, edgeValidator };\n","import React, { useEffect } from 'react';\nimport cytoscape from 'cytoscape';\nimport edgehandles from 'cytoscape-edgehandles';\nimport gridGuide from 'cytoscape-grid-guide';\nimport Konva from 'konva';\nimport nodeEditing from 'cytoscape-node-editing';\nimport $ from 'jquery';\nimport cyOptions from './config/cytoscape-options';\nimport MyGraph from './graph-builder';\nimport ZoomComp from './component/ZoomSetter';\n\nimport { actionType as T } from './reducer';\nimport './graph.css';\nimport localStorageManager from './graph-builder/local-storage-manager';\nimport TabBar from './component/TabBar';\nimport { edgeValidator, nodeValidator } from './config/defaultValidators';\n\nconst GraphComp = (props) => {\n    const graphContainerRef = React.createRef();\n    const { dispatcher, superState } = props;\n\n    const initialiseNewGraph = (element, id, projectDetails) => {\n        // eslint-disable-next-line no-param-reassign\n        element.style.width = `${graphContainerRef.current.offsetWidth - 2}px`;\n        // eslint-disable-next-line no-param-reassign\n        element.style.height = `${graphContainerRef.current.offsetHeight - 2}px`;\n        const cy = cytoscape({ ...cyOptions, container: element });\n        cy.nodeEditing({\n            resizeToContentCueEnabled: () => false,\n            setWidth(node, width) {\n                node.data('style', { ...node.data('style'), width });\n            },\n            setHeight(node, height) {\n                node.data('style', { ...node.data('style'), height });\n            },\n            isNoResizeMode(node) { return node.data('type') !== 'ordin'; },\n            isNoControlsMode(node) { return node.data('type') !== 'ordin'; },\n        });\n\n        cy.gridGuide({\n            snapToGridOnRelease: false,\n            zoomDash: true,\n            panGrid: true,\n        });\n        const myGraph = new (MyGraph(Object))(\n            id, cy, dispatcher, superState, projectDetails, nodeValidator, edgeValidator,\n        );\n        cy.edgehandles({\n            preview: false,\n            handlePosition() {\n                return 'none';\n            },\n            handleNodes: 'node[type = \"ordin\"],node[type = \"special\"]',\n            complete: (a, b, c) => { c.remove(); myGraph.addEdge(a.id(), b.id()); },\n        });\n        myGraph.loadGraphFromLocalStorage();\n        return myGraph;\n    };\n    useEffect(() => {\n        superState.graphs.forEach((e, i) => {\n            if (e.instance) return;\n            const { id } = e;\n            const graph = initialiseNewGraph(document.getElementById(id), id, e.projectDetails);\n            dispatcher({ type: T.ADD_GRAPH_INSTANCE, instance: graph, index: i });\n        });\n    }, [superState.graphs.length]);\n\n    useEffect(() => {\n        if (superState.graphs[superState.curGraphIndex] && superState.graphs[superState.curGraphIndex].instance) {\n            superState.graphs[superState.curGraphIndex].instance.setCurStatus();\n        }\n    }, [superState.curGraphIndex]);\n\n    useEffect(() => {\n        if (typeof cytoscape('core', 'edgehandles') !== 'function') {\n            cytoscape.use(edgehandles);\n        }\n        if (typeof cytoscape('core', 'nodeEditing') !== 'function') {\n            nodeEditing(cytoscape, $, Konva);\n        }\n        if (typeof cytoscape('core', 'gridGuide') !== 'function') {\n            gridGuide(cytoscape);\n        }\n        const graphFromParams = Object.fromEntries(new URLSearchParams(window.location.search).entries()).g;\n        if (graphFromParams) {\n            const graphContent = JSON.parse(atob(graphFromParams));\n            const gid = new Date().getTime().toString();\n            localStorageManager.addToFront(gid);\n            localStorageManager.save(gid, graphContent);\n            window.history.replaceState({}, document.title, window.location.pathname);\n        }\n        const allSavedGs = localStorageManager.getAllGraphs().map((graphId) => ({\n            id: graphId,\n            projectDetails: { projectName: '', author: '', set: true },\n        }));\n        dispatcher({\n            type: T.ADD_GRAPH_BULK,\n            payload: allSavedGs,\n        });\n    }, []);\n\n    return (\n        <div\n            style={{\n                flex: 1,\n                flexDirection: 'column',\n                display: 'flex',\n                width: '100%',\n            }}\n        >\n            <TabBar superState={superState} dispatcher={dispatcher} />\n            <div style={{ flex: 1, background: 'white' }} className=\"graph-container\" ref={graphContainerRef}>\n                {superState.graphs.map((el, i) => (\n                    <div\n                        style={{ zIndex: 1, display: superState.curGraphIndex === i ? 'block' : 'none' }}\n                        id={el.id}\n                        key={el.id}\n                    />\n                ))}\n                <ZoomComp dispatcher={dispatcher} superState={superState} />\n            </div>\n        </div>\n    );\n};\n\nexport default GraphComp;\n","import React, { useState, useEffect } from 'react';\nimport ReactModal from 'react-modal';\nimport './parent-modal.css';\n\nReactModal.setAppElement('#root');\n\nconst Modal = ({\n    closeModal, ModelOpen, title, children,\n}) => {\n    const [curClass, setCurClass] = useState('');\n    const [isOpen, setIsOpen] = useState(ModelOpen);\n    const [stid, setStid] = useState(null);\n    useEffect(() => {\n        if (ModelOpen === true) {\n            setIsOpen(true);\n            setCurClass('closing');\n            clearTimeout(stid);\n            setStid(setTimeout(() => {\n                setIsOpen(true);\n                setCurClass('');\n            }, 20));\n        } else {\n            setCurClass('closing');\n            clearTimeout(stid);\n            setStid(setTimeout(() => {\n                setIsOpen(false);\n            }, 400));\n        }\n    }, [ModelOpen]);\n\n    if (!isOpen) return '';\n    return (\n        <ReactModal\n            isOpen={isOpen}\n            contentLabel=\"onRequestClose Example\"\n            onRequestClose={closeModal}\n            className=\"Modal\"\n            overlayClassName={`Overlay ${curClass}`}\n        >\n            <div className={`modal-content ${curClass}`}>\n                <div className=\"modal-header\">\n                    <div className=\"modal-title h4\">{title}</div>\n                    <button type=\"button\" className=\"close\" onClick={closeModal}>\n                        {closeModal ? <span aria-hidden=\"true\"></span> : ''}\n                        <span className=\"sr-only\">Close</span>\n                    </button>\n                </div>\n                {children}\n            </div>\n        </ReactModal>\n    );\n};\nexport default Modal;\n","import React, { useState, useEffect } from 'react';\nimport './graph-comp-details.css';\nimport ParentModal from './ParentModal';\n\nconst ModalComp = ({ closeModal, superState }) => {\n    const [data, setData] = useState({});\n    const [errorMessage, setErrorMessage] = useState('');\n    const { modalPayload, ModelOpen } = superState;\n    const {\n        cb, title, submitText, Children, defaultStyle, defaultLabel, labelAllowed,\n    } = modalPayload;\n\n    useEffect(() => {\n        setData({ label: defaultLabel || '', style: defaultStyle });\n        setErrorMessage('');\n    }, [defaultLabel, defaultStyle]);\n\n    const submit = (e) => {\n        e.preventDefault();\n        const message = cb(data.label, data.style);\n        if (message.ok) {\n            setErrorMessage('');\n            setData({ label: defaultLabel || '', style: defaultStyle });\n            closeModal();\n        } else setErrorMessage(message.err);\n    };\n\n    return (\n        <ParentModal closeModal={closeModal} ModelOpen={ModelOpen} title={title}>\n            <form onSubmit={submit}>\n                <div className=\"modal-content-body\">\n                    <Children data={data} setData={setData} labelAllowed={labelAllowed} />\n                    {errorMessage ? <div className=\"err\">{errorMessage}</div> : <></>}\n                </div>\n                <div className=\"modal-footer\">\n                    <button type=\"submit\" className=\"btn btn-primary\">{submitText}</button>\n                </div>\n            </form>\n        </ParentModal>\n    );\n};\nexport default ModalComp;\n","import {\n    FaSave, FaUndo, FaRedo, FaTrash, FaFileImport, FaPlus, FaDownload, FaEdit, FaRegTimesCircle, FaShare, FaRegSun,\n} from 'react-icons/fa';\n\nimport {\n    createNode, editElement, deleteElem, downloadImg, saveAction,\n    readFile, clearAll, undo, redo, openShareModal, openSettingModal,\n} from './toolbarFunctions';\n\nconst toolbarList = (state) => [\n    {\n        type: 'action',\n        text: 'Node',\n        icon: FaPlus,\n        action: createNode,\n        active: true,\n        hotkey: 'Ctrl+G',\n    },\n    { type: 'vsep' },\n    {\n        type: 'file-upload',\n        text: 'Open',\n        icon: FaFileImport,\n        action: readFile,\n        active: true,\n        hotkey: 'Ctrl+O',\n    },\n    {\n        type: 'action',\n        text: 'Save',\n        icon: FaSave,\n        action: saveAction,\n        active: true,\n        hotkey: 'Ctrl+S',\n    },\n    {\n        type: 'action',\n        text: 'Clear',\n        icon: FaRegTimesCircle,\n        action: clearAll,\n        active: true,\n        hotkey: 'Ctrl+Backspace',\n    },\n    { type: 'vsep' },\n    {\n        type: 'action',\n        text: 'Undo',\n        icon: FaUndo,\n        action: undo,\n        active: state.undoEnabled,\n        hotkey: 'Ctrl+Z',\n    },\n    {\n        type: 'action',\n        text: 'Redo',\n        icon: FaRedo,\n        action: redo,\n        active: state.redoEnabled,\n        hotkey: 'Ctrl+Shift+Z,Ctrl+Y',\n    },\n    { type: 'vsep' },\n    {\n        type: 'action',\n        text: 'Edit',\n        icon: FaEdit,\n        action: editElement,\n        active: (state.eleSelected && state.eleSelectedPayload.type !== 'MIX'),\n        hotkey: 'Ctrl+E',\n    },\n    {\n        type: 'action',\n        text: 'Delete',\n        icon: FaTrash,\n        action: deleteElem,\n        active: state.eleSelected,\n        hotkey: 'Delete,Backspace,Del,Clear',\n    },\n    { type: 'vsep' },\n    { type: 'space' },\n    {\n        type: 'action',\n        text: 'Settings',\n        icon: FaRegSun,\n        action: openSettingModal,\n        active: true,\n    },\n    {\n        type: 'action',\n        text: 'Share',\n        icon: FaShare,\n        action: openShareModal,\n        active: true,\n    },\n    {\n        type: 'menu',\n        text: 'Download',\n        icon: FaDownload,\n        action: downloadImg,\n        active: true,\n    },\n    { type: 'vsep' },\n];\n\nexport default toolbarList;\n","import React from 'react';\nimport Switch from 'rc-switch';\nimport { Menu, MenuItem, MenuButton } from '@szhsin/react-menu';\n\nfunction DropDown({\n    Icon, text, action, active, tabIndex, hotkey,\n}) {\n    return (\n        <Menu menuButton={(\n            <MenuButton>\n                <ActionButton {...{\n                    Icon, text, action, active, tabIndex, hotkey,\n                }}\n                />\n            </MenuButton>\n        )}\n        >\n            <MenuItem onClick={() => action('JPG')}>JPG</MenuItem>\n            <MenuItem onClick={() => action('PNG')}>PNG</MenuItem>\n        </Menu>\n    );\n}\n\nconst FileUploader = ({\n    Icon, text, action, active, tabIndex, hotkey,\n}) => {\n    const fileRef = React.createRef();\n    return (\n        <>\n            <input type=\"file\" ref={fileRef} style={{ display: 'none' }} accept=\".graphml\" onChange={action} />\n            <ActionButton {...{\n                Icon, text, active, tabIndex, action: () => fileRef.current.click(), hotkey,\n            }}\n            />\n        </>\n    );\n};\n\nconst Switcher = ({\n    text, action, active, tabIndex,\n}) => (\n    <div\n        role=\"button\"\n        tabIndex={tabIndex}\n        className={`tool ${active ? 'active' : ''}`}\n        onClick={action}\n        onKeyDown={(ev) => ev.key === ' ' && action()}\n    >\n        <Switch\n            onChange={action}\n            checked={active}\n            className=\"react-switch\"\n        />\n        <div>\n            {text}\n        </div>\n    </div>\n);\n\nconst ActionButton = ({\n    Icon, text, action, active, tabIndex, hotkey,\n}) => (\n    <div\n        role=\"button\"\n        id={`action_${tabIndex}`}\n        tabIndex={tabIndex}\n        className={`tool ${active ? 'active' : ''}`}\n        onClick={() => (active && action())}\n        onKeyDown={(ev) => active && ev.key === ' ' && action()}\n        data-tip={hotkey ? hotkey.split(',')[0] : ''}\n    >\n        <div className=\"icon\"><Icon size=\"25\" /></div>\n        <div style={{ fontSize: 16 }}>{text}</div>\n    </div>\n);\n\nconst TextBox = ({ children }) => (\n    <div className=\"tool\" style={{ width: 'auto' }}>\n        <div className=\"middle tool-text-only\" style={{ fontSize: 16, color: '#888', height: '100%' }}>\n            {children}\n        </div>\n    </div>\n);\n\nconst Vsep = () => <div className=\"Vsep sep\" />;\nconst Hsep = () => <div className=\"hsep sep\" />;\nconst Space = () => <div className=\"space\" />;\n\nexport {\n    ActionButton, Vsep, Hsep, Space, TextBox, Switcher, DropDown, FileUploader,\n};\n","/* eslint-disable react/jsx-props-no-spreading */\nimport React from 'react';\nimport hotkeys from 'hotkeys-js';\nimport toolbarList from '../toolbarActions/toolbarList';\nimport '@szhsin/react-menu/dist/index.css';\nimport './header.css';\nimport {\n    ActionButton, Vsep, Hsep, Space, TextBox, Switcher, DropDown, FileUploader,\n} from './HeaderComps';\nimport 'rc-switch/assets/index.css';\n\nconst setHotKeys = (actions) => {\n    let keys = '';\n    const map = {};\n    actions.forEach((action, i) => {\n        if (action.hotkey) {\n            action.hotkey.split(',').forEach((key) => {\n                [key, key.replace('Ctrl', 'Command')].forEach((k) => {\n                    keys += `${k},`;\n                    map[k] = document.getElementById(`action_${i + 1}`);\n                });\n            });\n        }\n    });\n    hotkeys(keys, (event, handler) => {\n        event.preventDefault();\n        map[handler.shortcut].click();\n    });\n};\n\nconst Header = ({ state, dispatcher }) => {\n    const actions = toolbarList(state);\n    React.useEffect(() => {\n        setHotKeys(actions, state, dispatcher);\n    }, []);\n\n    return (\n        <header className=\"header\">\n            <section className=\"middle titlebar\">\n                {\n                    state.graphs[state.curGraphIndex]\n                        ? `${state.graphs[state.curGraphIndex].projectDetails.projectName} - DHGWorkflow Editor` : ''\n                }\n            </section>\n            <section className=\"toolbar\">\n                {\n                    actions.map(({\n                        text, active, action, icon, type, hotkey,\n                    }, i) => {\n                        const props = {\n                            text,\n                            active,\n                            tabIndex: i + 1,\n                            key: text,\n                            action: (e) => action(state, dispatcher, e),\n                            Icon: icon,\n                            hotkey,\n                        };\n                        switch (type) {\n                        case 'vsep': return <Vsep key={`${`v${i}`}`} />;\n                        case 'space': return <Space key={`${`s${i}`}`} />;\n                        case 'switch': return <Switcher {...props} />;\n                        case 'menu': return <DropDown {...props} />;\n                        case 'file-upload': return <FileUploader {...props} />;\n                        case 'action': return <ActionButton {...props} />;\n                        default: return <></>;\n                        }\n                    })\n                }\n                <input type=\"file\" id=\"fileUploader\" style={{ display: 'none' }} accept=\".jpg, .jpeg, .png\" />\n            </section>\n            <Hsep />\n        </header>\n\n    );\n};\n\nexport {\n    Header, ActionButton, Vsep, Hsep, Space, TextBox,\n};\n","import React, { useEffect, useState, useCallback } from 'react';\nimport Modal from './ParentModal';\nimport './project-details.css';\nimport { actionType as T } from '../../reducer';\n\nconst ProjectDetails = ({ superState, dispatcher }) => {\n    const curGraph = superState.graphs[superState.curGraphIndex];\n    const [projectName, setProjectName] = useState('');\n    const [author, setAuthor] = useState('');\n    const inputRef = useCallback((node) => node && node.focus(), []);\n    useEffect(() => {\n        if (!curGraph) {\n            setProjectName(''); setAuthor('');\n        } else {\n            setProjectName(curGraph.projectDetails.projectName || '');\n            setAuthor(curGraph.projectDetails.author || '');\n        }\n    }, [!curGraph || !curGraph.projectDetails.set]);\n\n    const addNewGraph = () => {\n        dispatcher({\n            type: T.ADD_GRAPH,\n            payload: { id: new Date().getTime(), projectDetails: { projectName, author, set: true } },\n        });\n    };\n\n    const setProjectDetails = (projectDetails) => {\n        dispatcher({\n            type: T.SET_PROJECT_DETAILS,\n            payload: {\n                projectDetails,\n                id: curGraph.id,\n            },\n        });\n    };\n\n    const submit = (e) => {\n        e.preventDefault();\n        if (!curGraph) addNewGraph();\n        else setProjectDetails({ projectName, author, set: true });\n    };\n\n    const openExisting = () => {\n        document.querySelector('input[type=\"file\"]').click();\n    };\n    const closeModal = () => {\n        if (!curGraph) dispatcher({ type: T.CHANGE_TAB, payload: 0 });\n        else {\n            setProjectDetails({\n                ...curGraph.projectDetails,\n                set: Boolean(curGraph.projectDetails.author && curGraph.projectDetails.projectName),\n            });\n        }\n    };\n    return (\n        <Modal\n            ModelOpen={!curGraph || !curGraph.projectDetails.set}\n            closeModal={!curGraph && superState.curGraphIndex === 0 ? null : closeModal}\n            title=\"Project Details\"\n        >\n            <form className=\"proj-details\" onSubmit={submit}>\n                <span>Workflow Name</span>\n                <input\n                    ref={inputRef}\n                    placeholder=\"Title of workflow\"\n                    required\n                    value={projectName}\n                    onChange={(e) => setProjectName(e.target.value)}\n                />\n                <span>Author</span>\n                <input\n                    placeholder=\"Author of workflow\"\n                    value={author}\n                    onChange={(e) => setAuthor(e.target.value)}\n                />\n                <div className=\"expand\">\n                    <button type=\"submit\" className=\"btn btn-primary\">Save</button>\n                    {curGraph ? <></> : (\n                        <>\n                            <div className=\"divider\" />\n                            <button\n                                type=\"button\"\n                                className=\"btn btn-secondary\"\n                                onClick={openExisting}\n                            >\n                                Open Existing\n\n                            </button>\n                        </>\n                    )}\n                </div>\n            </form>\n        </Modal>\n    );\n};\n\nexport default ProjectDetails;\n","import React, { useEffect, useState } from 'react';\nimport Modal from './ParentModal';\nimport './shareModal.css';\nimport { actionType as T } from '../../reducer';\n\nconst ShareModal = ({ superState, dispatcher }) => {\n    const [serializedGraph, setSerializedGraph] = useState('');\n    const [copyText, setCopyText] = useState('Copy');\n    const cond = superState.shareModal\n    && superState.graphs[superState.curGraphIndex] && superState.graphs[superState.curGraphIndex].instance;\n    useEffect(() => {\n        if (cond) {\n            setSerializedGraph(superState.graphs[superState.curGraphIndex].instance.serializeGraph());\n            setCopyText('Copy');\n        }\n    }, [cond]);\n\n    const closeModal = () => {\n        dispatcher({ type: T.SET_SHARE_MODAL, payload: false });\n    };\n    const link = `${window.location.protocol}//${window.location.host}${window.location.pathname}?g=${serializedGraph}`;\n    const copy = () => {\n        navigator.clipboard.writeText(link).then(() => {\n            setCopyText('Copied!');\n            document.getElementsByClassName('preDiv')[0].focus();\n            document.getElementsByClassName('preDiv')[0].select();\n        });\n    };\n\n    return (\n        <Modal\n            ModelOpen={superState.shareModal}\n            title=\"Shareable Link\"\n            closeModal={closeModal}\n        >\n            <div className=\"share-modal\">\n                <input readOnly className=\"preDiv\" value={link} />\n                <button onClick={copy} type=\"button\" className=\"copyBtn\">{copyText}</button>\n            </div>\n\n        </Modal>\n    );\n};\n\nexport default ShareModal;\n","import React from 'react';\nimport './codeEdit.css';\n\nconst CodeEdit = ({\n    pre, post, value, onChange, height,\n}) => {\n    const inputRef = React.createRef();\n    return (\n        <div\n            className=\"textField\"\n            onClick={() => inputRef.current.focus()}\n            onKeyDown={() => inputRef.current.focus()}\n            role=\"textbox\"\n            tabIndex={0}\n        >\n            <textarea\n                className=\"preTextField\"\n                value={pre}\n                readOnly\n                spellCheck=\"false\"\n            />\n            <textarea\n                className=\"mainTextField\"\n                spellCheck=\"false\"\n                {...{ value, onChange }}\n                data-gramm_editor=\"false\"\n                style={{ height }}\n                ref={inputRef}\n            />\n            <textarea\n                className=\"postTextField\"\n                readOnly\n                value={post}\n                spellCheck=\"false\"\n            />\n        </div>\n    );\n};\n\nexport default CodeEdit;\n","import React, { useState, useEffect } from 'react';\nimport Modal from './ParentModal';\nimport './settings.css';\nimport { actionType as T } from '../../reducer';\nimport CodeEdit from '../CodeEdit';\n\nconst SettingsModal = ({ superState, dispatcher }) => {\n    const [nodeValidator, setNodeValidator] = useState('');\n    const [edgeValidator, setEdgeValidator] = useState('');\n    useEffect(() => {\n        if (superState.graphs[superState.curGraphIndex] && superState.graphs[superState.curGraphIndex].instance) {\n            setNodeValidator(superState.graphs[superState.curGraphIndex].instance.getNodeValidator());\n            setEdgeValidator(superState.graphs[superState.curGraphIndex].instance.getEdgeValidator());\n        }\n    }, [superState.graphs[superState.curGraphIndex] && superState.graphs[superState.curGraphIndex].instance]);\n\n    const close = () => dispatcher({ type: T.SET_SETTING_MODAL, payload: false });\n    const submit = () => {\n        superState.graphs[superState.curGraphIndex].instance.setEdgeNodeValidator({\n            nodeValidator: `(node, nodes, edges)=>{${nodeValidator}}`,\n            edgeValidator: `(edge, nodes, edges)=>{${nodeValidator}}`,\n        });\n        dispatcher({ type: T.SET_SETTING_MODAL, payload: false });\n    };\n\n    return (\n        <Modal\n            ModelOpen={superState.settingsModal}\n            closeModal={close}\n            title=\"Settings\"\n        >\n            <div className=\"setting-container\">\n                <div>\n                    <h3>Node Validator</h3>\n                    <CodeEdit\n                        pre=\"function validateNode(node, nodes, edges) {\"\n                        post=\"}\"\n                        value={nodeValidator}\n                        onChange={(e) => setNodeValidator(e.target.value)}\n                        height={150}\n                    />\n                </div>\n                <div>\n                    <h3>Edge  Validator</h3>\n                    <CodeEdit\n                        pre=\"function validateEdge(edge, nodes, edges) {\"\n                        post=\"}\"\n                        value={edgeValidator}\n                        onChange={(e) => setEdgeValidator(e.target.value)}\n                        height={150}\n                    />\n                </div>\n                <div className=\"footer\">\n                    <button type=\"submit\" className=\"btn btn-primary\" onClick={submit}>Save</button>\n                </div>\n            </div>\n        </Modal>\n    );\n};\n\nexport default SettingsModal;\n","import React, { useReducer } from 'react';\nimport './App.css';\nimport ReactTooltip from 'react-tooltip';\nimport GraphComp from './graph';\nimport GraphCompDetails from './component/modals/GraphCompDetails';\nimport { Header } from './component/Header';\nimport { reducer, initialState, actionType as T } from './reducer';\nimport ProjectDetails from './component/modals/ProjectDetails';\nimport ShareModal from './component/modals/ShareModal';\nimport SettingsModal from './component/modals/Settings';\n\nconst app = () => {\n    const [superState, dispatcher] = useReducer(reducer, initialState);\n    return (\n        <div className=\"container\">\n            <ProjectDetails superState={superState} dispatcher={dispatcher} />\n            <ShareModal superState={superState} dispatcher={dispatcher} />\n            <SettingsModal superState={superState} dispatcher={dispatcher} />\n            <GraphCompDetails\n                closeModal={() => dispatcher({ type: T.Model_Close })}\n                superState={superState}\n            />\n            <Header state={superState} dispatcher={dispatcher} />\n            <section className=\"body\" style={{ display: 'flex', overflow: 'hidden' }}>\n                <GraphComp dispatcher={dispatcher} superState={superState} />\n            </section>\n            <ReactTooltip place=\"bottom\" type=\"dark\" effect=\"solid\" />\n        </div>\n    );\n};\n\nexport default app;\n","/* eslint-disable */\n// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://cra.link/PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(/^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/)\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://cra.link/PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then((registration) => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://cra.link/PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch((error) => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' },\n  })\n    .then((response) => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then((registration) => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log('No internet connection found. App is running in offline mode.');\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready\n      .then((registration) => {\n        registration.unregister();\n      })\n      .catch((error) => {\n        console.error(error.message);\n      });\n  }\n}\n","const reportWebVitals = (onPerfEntry) => {\n    if (onPerfEntry && onPerfEntry instanceof Function) {\n        import('web-vitals').then(({\n            getCLS, getFID, getFCP, getLCP, getTTFB,\n        }) => {\n            getCLS(onPerfEntry);\n            getFID(onPerfEntry);\n            getFCP(onPerfEntry);\n            getLCP(onPerfEntry);\n            getTTFB(onPerfEntry);\n        });\n    }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport * as serviceWorkerRegistration from './serviceWorkerRegistration';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n    <React.StrictMode>\n        <App />\n    </React.StrictMode>,\n    document.getElementById('root'),\n);\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://cra.link/PWA\nserviceWorkerRegistration.unregister();\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n","const BendingDistanceWeight = {\n\n    dist: (A, B) => (((A.x - B.x) ** 2 + (A.y - B.y) ** 2) ** 0.5),\n\n    rotate: (P, Q) => ({\n        x: P.x * Math.cos(Q) - P.y * Math.sin(Q),\n        y: P.x * Math.sin(Q) + P.y * Math.cos(Q),\n    }),\n\n    extraRad: (A, B) => (((A.x >= B.x && A.y > B.y) || (A.x >= B.x && A.y < B.y)) ? Math.PI : 0),\n\n    getRadian(tanQ, A, B) {\n        return (Math.atan(tanQ) - this.extraRad(A, B) + 2 * Math.PI) % (2 * Math.PI);\n    },\n\n    getCoordinate(w, d, A, B) {\n        const tanQ = (A.y - B.y) / (A.x - B.x);\n        const Q = this.getRadian(tanQ, A, B);\n        const D = this.dist(A, B) * w;\n        const P = { x: D, y: d };\n        const { x, y } = this.rotate(P, Q);\n        return { x: x + A.x, y: y + A.y };\n    },\n\n    getWeightDistance(p, A, B) {\n        const P = { x: p.x - A.x, y: p.y - A.y };\n        const tanQ = (A.y - B.y) / (A.x - B.x);\n        const Q = this.getRadian(tanQ, A, B);\n        const { x, y } = this.rotate(P, -Q);\n        const d = this.dist(A, B);\n        return { d: y, w: x / d };\n    },\n};\n\nexport default BendingDistanceWeight;\n","const zealit = require('zealit');\n\nconst actionType = {\n    $$typeof: '',\n    Model_Open_Create_Node: 'OpenModal_CreateNode',\n    Model_Open_Create_Edge: 'OpenModal_CreateEdge',\n    Model_Open_Update_Edge: 'OpenModal_UpdateEdge',\n    Model_Open_Update_Node: 'OpenModal_UpdateNode',\n    Model_Close: 'CloseModal',\n    ELE_UNSELECTED: 'ELE_UNSELECTED',\n    ELE_SELECTED: 'ELE_SELECTED',\n    TURN_DRAW: 'TURN_DRAW',\n    SET_ZOOM: 'SET_ZOOM',\n    SET_PROJECT_DETAILS: 'SET_PROJECT_DETAILS',\n    SET_UNDO: 'SET_UNDO',\n    SET_REDO: 'SET_REDO',\n    ADD_GRAPH_INSTANCE: 'ADD_GRAPH_INSTANCE',\n    ADD_GRAPH: 'ADD_GRAPH',\n    ADD_GRAPH_BULK: 'ADD_GRAPH_BULK',\n    CHANGE_TAB: 'CHANGE_TAB',\n    REMOVE_GRAPH: 'REMOVE_GRAPH',\n    NEW_GRAPH: 'NEW_GRAPH',\n    SET_SHARE_MODAL: 'SET_SHARE_MODAL',\n    SET_SETTING_MODAL: 'SET_SETTING_MODAL',\n};\nexport default zealit(actionType);\n","import React from 'react';\nimport { TwitterPicker } from 'react-color';\n\nconst colors = {\n    light: [\n        '#FFCC00', '#ea80fc', '#ff4081', '#ff5252', '#82b1ff', '#b388ff', '#64ffda', '#40c4ff', '#90a4ae', '#a1887f',\n    ],\n    dark: [\n        '#000000', '#f44336', '#9c27b0', '#7c4dff', '#1565c0', '#009688', '#ff6d00', '#827717', '#607d8b', '#000000',\n    ],\n};\n\nconst ColorBox = ({ color, setColor, type }) => {\n    const [visible, setVisible] = React.useState(false);\n    React.useEffect(() => {\n        if (!color) setColor(colors[type][Math.floor(Math.random() * 10)]);\n    }, []);\n    return (\n        <div\n            role=\"button\"\n            tabIndex={0}\n            className=\"color-box-par\"\n            onClick={() => !visible && setVisible(true)}\n            onKeyDown={(ev) => ev.key === ' ' && (!visible && setVisible(true))}\n        >\n            <div className=\"color-box\" style={{ background: color || '#000' }} />\n            <div\n                className=\"color-picker\"\n                style={{\n                    display: visible ? 'block' : 'none',\n                }}\n            >\n                {/* eslint-disable-next-line */}\n                <div role=\"button\" className=\"overlay\" onClick={() => setVisible(false)}></div>\n                <TwitterPicker\n                    colors={colors[type]}\n                    color={color || '#000'}\n                    onChangeComplete={(x) => setColor(x.hex)}\n                />\n            </div>\n        </div>\n    );\n};\n\nexport default ColorBox;\n","import React, {\n    useCallback, useEffect, useState, createRef,\n} from 'react';\nimport './nodeDetails.css';\nimport ColorBox from './ColorBox';\n\nconst NodeDetails = ({\n    data, setData, submit, labelAllowed,\n}) => {\n    const inputRef = useCallback((node) => node && node.focus(), []);\n    const textRef = createRef();\n    const [widthSet, setWidthSet] = useState(false);\n\n    const setStyle = (prop) => {\n        setData({ ...data, style: { ...data.style, ...prop } });\n    };\n\n    useEffect(() => {\n        if (!widthSet) {\n            setStyle({\n                width: Math.max(data.style.width, Math.min(500, textRef.current.offsetWidth + 20)),\n            });\n        }\n    }, [!widthSet && data.label]);\n\n    return (\n        <div className=\"nodeform\" onSubmit={submit}>\n            <div className=\"parent-div\" style={{ height: data.style.height }}>\n                <div\n                    className=\"node-div\"\n                    style={{\n                        ...data.style,\n                        borderRadius: data.style.shape === 'ellipse' ? '100%' : 0,\n                    }}\n                >\n                    <span ref={textRef}>{labelAllowed ? data.label : ''}</span>\n\n                </div>\n            </div>\n            <div className=\"form\" style={{ padding: 20 }}>\n                <div> Shape</div>\n                <div>\n                    <label htmlFor=\"rectangle\">\n                        <input\n                            type=\"radio\"\n                            name=\"shape\"\n                            value=\"rectangle\"\n                            checked={data.style.shape === 'rectangle'}\n                            onChange={() => setStyle({ shape: 'rectangle' })}\n                        />\n                        Rectangle\n                    </label>\n                </div>\n                <div>\n                    <label htmlFor=\"ellipse\">\n                        <input\n                            type=\"radio\"\n                            name=\"shape\"\n                            value=\"ellipse\"\n                            checked={data.style.shape === 'ellipse'}\n                            onChange={() => setStyle({ shape: 'ellipse' })}\n                        />\n                        Ellipse\n                    </label>\n                </div>\n                <div />\n\n                {labelAllowed ? <div> Label</div> : ''}\n                {labelAllowed ? (\n                    <input\n                        className=\"nodeLabel\"\n                        ref={inputRef}\n                        type=\"text\"\n                        required\n                        label=\"Node Label\"\n                        value={data.label}\n                        placeholder=\"Enter Node Label\"\n                        onChange={(e) => setData({ ...data, label: e.target.value })}\n                    />\n                ) : ''}\n                <div> Width</div>\n                <input\n                    type=\"number\"\n                    value={data.style.width}\n                    onChange={(e) => {\n                        setWidthSet(true);\n                        setStyle({\n                            width: Math.min(500, e.target.value),\n                        });\n                    }}\n                />\n\n                <div> Height</div>\n                <input\n                    type=\"number\"\n                    value={data.style.height}\n                    onChange={(e) => setStyle({ height: Math.min(200, e.target.value) })}\n                />\n\n                <div> Background Color</div>\n                <ColorBox\n                    color={data.style.backgroundColor}\n                    setColor={(color) => setStyle({ backgroundColor: color })}\n                    type=\"light\"\n                />\n\n                <div> Border Color</div>\n                <ColorBox\n                    color={data.style.borderColor}\n                    setColor={(color) => setStyle({ borderColor: color })}\n                    type=\"dark\"\n                />\n\n                <div> Border Width</div>\n                <input\n                    type=\"number\"\n                    value={data.style.borderWidth}\n                    onChange={(e) => setStyle({ borderWidth: Math.min(30, e.target.value) })}\n                />\n                <div> Opacity</div>\n                <input\n                    type=\"number\"\n                    step=\".01\"\n                    value={data.style.opacity}\n                    onChange={(e) => setStyle({ opacity: Math.min(1, Math.max(0, e.target.value)) })}\n                />\n            </div>\n        </div>\n    );\n};\n\nexport default NodeDetails;\n","import React, { useCallback } from 'react';\nimport ColorBox from './ColorBox';\nimport './edgeDetails.css';\n\nconst Triangle = ({ size, color }) => {\n    const s = parseInt(size, 10) * 5;\n    const EqTriangle = {\n        borderLeft: `${0.8666 * s}px solid ${color}`,\n        borderBottom: `${s / 2}px solid transparent`,\n        borderTop: `${s / 2}px solid transparent`,\n        marginLeft: -1,\n    };\n    return (\n        <div style={EqTriangle} />\n    );\n};\n\nconst EdgeDetails = ({\n    data, setData, submit, labelAllowed,\n}) => {\n    const setStyle = (prop) => setData({ ...data, style: { ...data.style, ...prop } });\n    const inputRef = useCallback((node) => node && node.focus(), []);\n    const RadioBtn = ({ name, shape }) => (\n        <label htmlFor=\"ellipse\">\n            <input\n                type=\"radio\"\n                name=\"shape\"\n                value={shape}\n                checked={data.style.shape === shape}\n                onChange={() => setStyle({ shape })}\n            />\n            {name}\n        </label>\n    );\n\n    return (\n        <div className=\"edgeform\" onSubmit={submit}>\n            <div className=\"par-div\">\n                <div\n                    className=\"edge-div\"\n                    style={{\n                        borderBottomWidth: data.style.thickness,\n                        borderBottomColor: data.style.backgroundColor,\n                        borderBottomStyle: data.style.shape,\n                    }}\n                />\n                <Triangle size={data.style.thickness} color={data.style.backgroundColor} />\n                <div className=\"label\">{data.label}</div>\n            </div>\n            <div className=\"form\">\n                {labelAllowed ? <div> Label</div> : ''}\n                {labelAllowed ? (\n                    <input\n                        ref={inputRef}\n                        className=\"span-rest edgeLabel\"\n                        type=\"text\"\n                        required\n                        label=\"Edge Label\"\n                        value={data.label}\n                        placeholder=\"Enter Edge Label\"\n                        onChange={(e) => setData({ ...data, label: `${e.target.value}` })}\n                    />\n                ) : ''}\n                <div> Shape</div>\n                <div className=\"span-rest hascheckbox\">\n                    <div><RadioBtn name=\"Solid\" shape=\"solid\" /></div>\n                    <div><RadioBtn name=\"Dotted\" shape=\"dotted\" /></div>\n                    <div><RadioBtn name=\"Dashed\" shape=\"dashed\" /></div>\n                </div>\n                <div> Thickness</div>\n                <input\n                    type=\"number\"\n                    value={data.style.thickness}\n                    onChange={(e) => setStyle({ thickness: Math.max(0, Math.min(20, e.target.value)) })}\n                />\n                <div> Background Color</div>\n                <ColorBox\n                    color={data.style.backgroundColor}\n                    setColor={(color) => setStyle({ backgroundColor: color })}\n                    type=\"dark\"\n                />\n            </div>\n        </div>\n    );\n};\n\nexport default EdgeDetails;\n","const NodeStyle = {\n    width: 100,\n    height: 50,\n    shape: 'rectangle',\n    opacity: 1,\n    backgroundColor: '#ffcc00',\n    borderColor: '#000',\n    borderWidth: 1,\n};\n\nconst EdgeStyle = {\n    thickness: 1,\n    backgroundColor: null,\n    shape: 'solid',\n};\n\nexport { NodeStyle, EdgeStyle };\n","const initialState = {\n    ModelOpen: false,\n    modalPayload: {\n        cb: () => {},\n        title: '',\n        submitText: '',\n        Children: '',\n        defaultStyle: {},\n        defaultLabel: '',\n        labelAllowed: null,\n    },\n    eleSelected: false,\n    drawModeOn: true,\n    undoEnabled: false,\n    redoEnabled: false,\n    shareModal: false,\n    graphs: [],\n    curGraphIndex: 0,\n    settingsModal: false,\n};\n\nconst initialGraphState = {\n    projectDetails: {\n        projectName: '',\n        author: '',\n        set: false,\n    },\n    component: null,\n    instance: null,\n};\n\nexport { initialState, initialGraphState };\n","import T from './actionType';\nimport NodeDetails from '../component/modals/NodeDetails';\nimport EdgeDetails from '../component/modals/EdgeDetails';\nimport { NodeStyle, EdgeStyle } from '../config/defaultStyles';\nimport { initialGraphState } from './initialState';\n\nconst reducer = (state, action) => {\n    switch (action.type) {\n    case T.Model_Open_Create_Node:\n        return {\n            ...state,\n            ModelOpen: true,\n            modalPayload: {\n                title: 'Create Node',\n                submitText: 'Create Node',\n                Children: NodeDetails,\n                defaultStyle: NodeStyle,\n                defaultLabel: '',\n                labelAllowed: true,\n                cb: action.cb,\n            },\n        };\n    case T.Model_Open_Create_Edge:\n        return {\n            ...state,\n            ModelOpen: true,\n            modalPayload: {\n                title: 'Create Edge',\n                submitText: 'Create Edge',\n                Children: EdgeDetails,\n                defaultStyle: EdgeStyle,\n                defaultLabel: '',\n                labelAllowed: true,\n                cb: action.cb,\n            },\n        };\n    case T.Model_Open_Update_Node: {\n        return {\n            ...state,\n            ModelOpen: true,\n            modalPayload: {\n                title: 'Edit Node',\n                submitText: 'Edit Node',\n                Children: NodeDetails,\n                defaultStyle: action.style,\n                defaultLabel: action.label,\n                labelAllowed: action.labelAllowed,\n                cb: action.cb,\n            },\n        };\n    }\n    case T.Model_Open_Update_Edge: {\n        return {\n            ...state,\n            ModelOpen: true,\n            modalPayload: {\n                title: 'Edit Edge',\n                submitText: 'Edit Edge',\n                Children: EdgeDetails,\n                defaultStyle: action.style,\n                defaultLabel: action.label,\n                labelAllowed: action.labelAllowed,\n                cb: action.cb,\n            },\n        };\n    }\n    case T.Model_Close: return { ...state, ModelOpen: false };\n    case T.ELE_SELECTED: return { ...state, eleSelected: true, eleSelectedPayload: action.payload };\n    case T.ELE_UNSELECTED: return { ...state, eleSelected: false };\n    case T.TURN_DRAW: return { ...state, drawModeOn: action.payload };\n\n    case T.SET_UNDO: return { ...state, undoEnabled: action.payload };\n    case T.SET_REDO: return { ...state, redoEnabled: action.payload };\n\n    case T.ADD_GRAPH: {\n        return {\n            ...state,\n            curGraphIndex: state.graphs.length,\n            graphs: [\n                ...state.graphs,\n                {\n                    ...initialGraphState,\n                    component: action.payload.component,\n                    projectDetails: action.payload.projectDetails,\n                    id: action.payload.id,\n                    instance: action.payload.instance,\n                },\n            ],\n        };\n    }\n    case T.ADD_GRAPH_BULK: {\n        return { ...state, graphs: [...state.graphs, ...action.payload] };\n    }\n    case T.ADD_GRAPH_INSTANCE: {\n        const newState = { ...state };\n        newState.graphs[action.index].instance = action.instance;\n        return { ...newState };\n    }\n\n    case T.NEW_GRAPH: return { ...state, curGraphIndex: state.graphs.length };\n    case T.CHANGE_TAB: return { ...state, curGraphIndex: action.payload };\n    case T.REMOVE_GRAPH: return {\n        ...state,\n        graphs: state.graphs.filter((e, i) => i !== action.payload),\n        curGraphIndex: state.curGraphIndex < action.payload\n            ? state.curGraphIndex\n            : Math.max(0, state.curGraphIndex - 1),\n    };\n\n    case T.SET_PROJECT_DETAILS: {\n        const newState = { ...state };\n        newState.graphs = newState.graphs.map((g) => {\n            if (g.id === action.payload.id) {\n                if (g.instance) g.instance.setProjectDetail(action.payload.projectDetails);\n                return { ...g, projectDetails: action.payload.projectDetails };\n            }\n            return g;\n        });\n        return { ...newState };\n    }\n\n    case T.SET_SHARE_MODAL: {\n        return { ...state, shareModal: action.payload };\n    }\n\n    case T.SET_SETTING_MODAL: {\n        return { ...state, settingsModal: action.payload };\n    }\n\n    default:\n        return state;\n    }\n};\nexport default reducer;\n"],"sourceRoot":""}