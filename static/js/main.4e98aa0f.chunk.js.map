{"version":3,"sources":["config/cytoscape-style.js","config/cytoscape-options.js","reducer/actionType.js","component/modals/ColorBox.jsx","component/modals/NodeDetails.jsx","component/modals/EdgeDetails.jsx","config/defaultStyles.js","reducer/initialState.js","reducer/reducer.js","graph-builder/local-storage-manager.js","graph-builder/graphml/builder/nodeML.js","graph-builder/graphml/builder/graphML.js","graph-builder/graphml/builder/edgeML.js","graph-builder/graphml/builder/index.js","graph-builder/calculations/bending-dist-weight.js","graph-builder/graph-load-save.js","graph-builder/graph-canvas.js","graph-builder/graph-actions.js","graph-builder/graph-component.js","graph-builder/graph-undo-redo.js","graph-builder/core-graph-builder.js","graph-builder/calculations/boundary-point.js","graph-builder/index.js","graph-builder/tailored-graph-builder.js","component/ZoomSetter.jsx","graph-builder/graphml/parser/PropFromArr.js","graph-builder/graphml/parser/parseProperties.js","graph-builder/graphml/parser/index.js","toolbarActions/toolbarFunctions.js","component/TabBar.jsx","graph.jsx","component/modals/ParentModal.jsx","component/modals/GraphCompDetails.jsx","toolbarActions/toolbarList.js","component/HeaderComps.jsx","component/Header.jsx","component/modals/ProjectDetails.jsx","component/modals/ShareModal.jsx","App.jsx","serviceWorkerRegistration.js","reportWebVitals.js","index.jsx"],"names":["style","selector","content","width","height","shape","opacity","backgroundColor","label","color","display","options","zoomingEnabled","userZoomingEnabled","minZoom","maxZoom","zealit","require","$$typeof","Model_Open_Create_Node","Model_Open_Create_Edge","Model_Open_Update_Edge","Model_Open_Update_Node","Model_Close","ELE_UNSELECTED","ELE_SELECTED","TURN_DRAW","SET_ZOOM","SET_PROJECT_DETAILS","SET_UNDO","SET_REDO","ADD_GRAPH_INSTANCE","ADD_GRAPH","CHANGE_TAB","REMOVE_GRAPH","NEW_GRAPH","SET_SHARE_MODAL","ColorBox","setColor","React","useState","visible","setVisible","role","tabIndex","className","onClick","onKeyDown","ev","key","background","onChangeComplete","x","hex","NodeDetails","data","setData","submit","labelAllowed","inputRef","useCallback","node","focus","setStyle","prop","onSubmit","borderRadius","padding","htmlFor","type","name","value","checked","onChange","ref","required","placeholder","e","target","Math","min","borderColor","borderWidth","step","max","Triangle","size","s","parseInt","EqTriangle","borderLeft","borderBottom","borderTop","marginLeft","EdgeDetails","thickness","NodeStyle","EdgeStyle","initialState","ModelOpen","modalPayload","cb","title","submitText","Children","defaultStyle","defaultLabel","eleSelected","drawModeOn","undoEnabled","redoEnabled","shareModal","graphs","curGraphIndex","initialGraphState","projectDetails","projectName","author","set","component","instance","reducer","state","action","T","eleSelectedPayload","payload","id","newState","index","length","filter","i","map","g","setProjectDetail","localStorageManager","ALL_GRAPHS","allgs","window","localStorage","getItem","setItem","btoa","JSON","stringify","Set","parse","atob","getSet","saveAllgs","this","Array","from","addEmptyIfNot","get","save","graphContent","addGraph","serializedJson","remove","delete","removeItem","has","add","getAllGraphs","addToFront","Garr","unshift","nodeML","posX","posY","$","y","graphML","nodes","edges","graphml","xmlns","for","graph","edgedefault","edge","edgeML","source","configuration","lineColor","lineWidth","sx","sy","tx","ty","bendPoint","builder","G","position","edg","X","xml2js","Builder","buildObject","BendingDistanceWeight","dist","A","B","rotate","P","Q","cos","sin","extraRad","PI","getRadian","tanQ","atan","getCoordinate","w","d","getWeightDistance","p","GraphLoadSave","ParentClass","autoSaveIntervalId","cy","on","saveLocalStorage","bind","format","saveAs","png","getName","nodeID","getById","edgeID","forEach","shouldNodeBeSaved","all","json","nodeJson","getStyle","push","shouldEdgeBeSaved","edgeJson","getRealSourceId","bendWeight","bendDistance","str","graphmlBuilder","jsonifyGraph","bytes","TextEncoder","encode","blob","Blob","Date","getTime","tid","addNode","addEdge","undefined","dispatcher","autoSaveTimeoutId","clearTimeout","setTimeout","loadJson","GraphCanvas","reset","removeListener","setZoomUI","round","zoom","fit","v","elements","confirm","el","deleteElem","GraphComponent","getTid","allNodes","start","found","nodePos","getPos","group","addAction","actionName","GA","parameters","rawStyle","sourceId","targetId","parseBendinDW","shouldUpdateLabel","val","connectedEdges","deleteEdge","removed","jsonEd","isNode","deleteNode","pos","emit","dim","setPos","GraphUndoRedo","GUR","methodsMapped","args","actionArr","curActionIndex","prevPos","curPos","prevDim","curDim","inverse","equivalent","splice","curTid","performAction","CoreGraph","superState","bendNode","classes","regesterEvents","getElementById","els","every","isEdge","ids","selectDeselectEventHandler","scratch","addPositionChange","addDimensionChange","addClass","evt","hasClass","CG","getBendEdgePoint","DW","removeClass","parseFloat","boundaryPoint","getEq","P1","P2","m","getX1X2","Cn","h","c","C","D","getY1Y2","x1","x2","getClosestEllipse","y1","y2","slope","setSubQ","S1","S2","getClosestRect","abs","Infinity","TailoredGraphBuilder","connectedNodes","juncNode","TG","calJuncNodePos","juncNodeId","incomers","unselectify","sourceID","targetID","edgeStyle","ed","sourceNode","targetNode","sourceNodeStyle","juncNodePos","getBoundaryPoint","edgeLabel","addAutoMove","addEdgeWithJuncNode","juncNodes","outgoers","addEdgeWithoutJuncNode","junctionNode","updateData","updateNode","parNode","meanNbrPosition","setOfPos","posStr","GraphOption","marks","ZoomComp","myGraph","getZoom","zoomValue","setZoomValue","setOnZoom","resetZoom","fitZoom","setZoom","included","PropFromArr","obj","arr","flatenArr","flatArr","constructor","o","Object","keys","t","propFromArr","split","property","any","S","F","parseNode","parseProps","parseEdge","parser","graphMlCnt","Promise","resolve","Parser","parseString","err","grahMLObj","grahML","parseDetails","Boolean","getGraphFun","createNode","setState","editElement","getLabel","updateEdge","downloadImg","saveAction","saveToDisk","readFile","files","fr","FileReader","onload","graphMLParser","result","then","readAsText","newProject","clearAll","undo","redo","openShareModal","TabBar","closeTab","stopPropagation","editCur","useEffect","hotkeys","event","preventDefault","document","click","querySelector","data-tip","data-for","place","effect","GraphComp","props","graphContainerRef","createRef","element","current","offsetWidth","offsetHeight","cytoscape","cyOptions","container","nodeEditing","resizeToContentCueEnabled","setWidth","setHeight","isNoResizeMode","isNoControlsMode","gridGuide","snapToGridOnRelease","zoomDash","panGrid","MyGraph","edgehandles","preview","handlePosition","handleNodes","complete","a","b","loadGraphFromLocalStorage","initialiseNewGraph","setCurStatus","use","Konva","graphFromParams","fromEntries","URLSearchParams","location","search","entries","gid","toString","history","replaceState","pathname","graphId","flex","flexDirection","zIndex","ReactModal","setAppElement","Modal","closeModal","children","curClass","setCurClass","isOpen","setIsOpen","stid","setStid","contentLabel","onRequestClose","overlayClassName","aria-hidden","ModalComp","ParentModal","toolbarList","text","icon","FaPlus","active","hotkey","FaFileImport","FaSave","FaRegTimesCircle","FaUndo","FaRedo","FaEdit","FaTrash","FaShare","FaDownload","DropDown","Icon","menuButton","FileUploader","fileRef","accept","Switcher","ActionButton","fontSize","Vsep","Hsep","Space","Header","actions","replace","k","handler","shortcut","setHotKeys","ProjectDetails","curGraph","setProjectName","setAuthor","setProjectDetails","ShareModal","serializedGraph","setSerializedGraph","copyText","setCopyText","cond","serializeGraph","link","protocol","host","readOnly","navigator","clipboard","writeText","getElementsByClassName","select","app","useReducer","GraphCompDetails","overflow","hostname","match","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","serviceWorker","ready","registration","unregister","catch","error","console","message"],"mappings":"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","file":"static/js/main.4e98aa0f.chunk.js","sourcesContent":["const style = [\n    {\n        selector: '*',\n        style: {\n            'overlay-opacity': '0',\n        },\n    },\n    {\n        selector: 'node[type = \"ordin\"]',\n        style: {\n            content: 'data(label)',\n            'z-index': 100,\n            width: 'data(style.width)',\n            height: 'data(style.height)',\n            shape: 'data(style.shape)',\n            opacity: 'data(style.opacity)',\n            'background-color': 'data(style.backgroundColor)',\n            'border-color': 'data(style.borderColor)',\n            'border-width': 'data(style.borderWidth)',\n            'text-valign': 'center',\n            'text-halign': 'center',\n        },\n    },\n    {\n        selector: 'node[type=\"special\"]',\n        style: {\n            width: 8,\n            height: 8,\n            backgroundColor: 'red',\n            'z-index': 1000,\n        },\n    },\n\n    {\n        selector: 'edge',\n        style: {\n            'curve-style': 'bezier',\n            'target-arrow-shape': 'triangle',\n        },\n    },\n    {\n        selector: 'edge[type = \"ordin\"]',\n        style: {\n            width: 'data(style.thickness)',\n            'line-color': 'data(style.backgroundColor)',\n            'target-arrow-color': 'data(style.backgroundColor)',\n            'curve-style': 'segments',\n            'segment-distances': 'data(style.bendDistance)',\n            'segment-weights': 'data(style.bendWeight)',\n            'edge-distances': 'node-position',\n        },\n    },\n    {\n        selector: 'edge[label]',\n        style: {\n            label: 'data(label)',\n            'edge-text-rotation': 'autorotate',\n            'z-index': 999,\n            'text-background-opacity': 1,\n            color: '#000',\n            'text-background-color': '#fff',\n            'text-background-shape': 'roundrectangle',\n            'text-border-color': '#fff',\n            'text-border-width': 2,\n            'text-border-opacity': 1,\n        },\n    },\n    {\n        selector: '.hidden',\n        style: {\n            display: 'none',\n        },\n    },\n    {\n        selector: '.eh-handle,node[type=\"bend\"]',\n        style: {\n            height: 25,\n            width: 25,\n            opacity: 0.4,\n            'border-width': 5,\n            'border-opacity': 0.1,\n        },\n    },\n    {\n        selector: 'node[type=\"bend\"]',\n        style: {\n            backgroundColor: '#9575cd',\n        },\n    },\n    {\n        selector: '.eh-handle',\n        style: {\n            'background-color': '#f50057',\n        },\n    },\n    {\n        selector: ':selected',\n        style: {\n            'overlay-color': '#000',\n            'overlay-opacity': 0.1,\n            'overlay-padding': 5,\n        },\n    },\n\n];\n\nexport default style;\n","import style from './cytoscape-style';\n\nconst options = {\n    style: [...style],\n    zoomingEnabled: true,\n    userZoomingEnabled: true,\n    minZoom: 0.25,\n    maxZoom: 5,\n};\n\nexport default options;\n","const zealit = require('zealit');\n\nconst actionType = {\n    $$typeof: '',\n    Model_Open_Create_Node: 'OpenModal_CreateNode',\n    Model_Open_Create_Edge: 'OpenModal_CreateEdge',\n    Model_Open_Update_Edge: 'OpenModal_UpdateEdge',\n    Model_Open_Update_Node: 'OpenModal_UpdateNode',\n    Model_Close: 'CloseModal',\n    ELE_UNSELECTED: 'ELE_UNSELECTED',\n    ELE_SELECTED: 'ELE_SELECTED',\n    TURN_DRAW: 'TURN_DRAW',\n    SET_ZOOM: 'SET_ZOOM',\n    SET_PROJECT_DETAILS: 'SET_PROJECT_DETAILS',\n    SET_UNDO: 'SET_UNDO',\n    SET_REDO: 'SET_REDO',\n    ADD_GRAPH_INSTANCE: 'ADD_GRAPH_INSTANCE',\n    ADD_GRAPH: 'ADD_GRAPH',\n    CHANGE_TAB: 'CHANGE_TAB',\n    REMOVE_GRAPH: 'REMOVE_GRAPH',\n    NEW_GRAPH: 'NEW_GRAPH',\n    SET_SHARE_MODAL: 'SET_SHARE_MODAL',\n};\nexport default zealit(actionType);\n","import React from 'react';\nimport { TwitterPicker } from 'react-color';\n\nconst ColorBox = ({ color, setColor }) => {\n    const [visible, setVisible] = React.useState(false);\n    return (\n        <div\n            role=\"button\"\n            tabIndex={0}\n            className=\"color-box-par\"\n            onClick={() => !visible && setVisible(true)}\n            onKeyDown={(ev) => ev.key === ' ' && (!visible && setVisible(true))}\n        >\n            <div className=\"color-box\" style={{ background: color }} />\n            <div\n                className=\"color-picker\"\n                style={{\n                    display: visible ? 'block' : 'none',\n                }}\n            >\n                {/* eslint-disable-next-line */}\n                <div role=\"button\" className=\"overlay\" onClick={() => setVisible(false)}></div>\n                <TwitterPicker color={color} onChangeComplete={(x) => setColor(x.hex)} />\n            </div>\n        </div>\n    );\n};\n\nexport default ColorBox;\n","import React, { useCallback } from 'react';\nimport './nodeDetails.css';\nimport ColorBox from './ColorBox';\n\nconst NodeDetails = ({\n    data, setData, submit, labelAllowed,\n}) => {\n    const inputRef = useCallback((node) => node && node.focus(), []);\n\n    const setStyle = (prop) => {\n        setData({ ...data, style: { ...data.style, ...prop } });\n    };\n\n    return (\n        <div className=\"nodeform\" onSubmit={submit}>\n            <div className=\"parent-div\" style={{ height: data.style.height }}>\n                <div\n                    className=\"node-div\"\n                    style={{\n                        ...data.style,\n                        borderRadius: data.style.shape === 'ellipse' ? '100%' : 0,\n                    }}\n                >\n                    {labelAllowed ? data.label : ''}\n\n                </div>\n            </div>\n            <div className=\"form\" style={{ padding: 20 }}>\n                <div> Shape</div>\n                <div>\n                    <label htmlFor=\"rectangle\">\n                        <input\n                            type=\"radio\"\n                            name=\"shape\"\n                            value=\"rectangle\"\n                            checked={data.style.shape === 'rectangle'}\n                            onChange={() => setStyle({ shape: 'rectangle' })}\n                        />\n                        Rectangle\n                    </label>\n                </div>\n                <div>\n                    <label htmlFor=\"ellipse\">\n                        <input\n                            type=\"radio\"\n                            name=\"shape\"\n                            value=\"ellipse\"\n                            checked={data.style.shape === 'ellipse'}\n                            onChange={() => setStyle({ shape: 'ellipse' })}\n                        />\n                        Ellipse\n                    </label>\n                </div>\n                <div />\n\n                {labelAllowed ? <div> Label</div> : ''}\n                {labelAllowed ? (\n                    <input\n                        className=\"nodeLabel\"\n                        ref={inputRef}\n                        type=\"text\"\n                        required\n                        label=\"Node Label\"\n                        value={data.label}\n                        placeholder=\"Enter Node Label\"\n                        onChange={(e) => setData({ ...data, label: e.target.value })}\n                    />\n                ) : ''}\n                <div> Width</div>\n                <input\n                    type=\"number\"\n                    value={data.style.width}\n                    onChange={(e) => setStyle({ width: Math.min(500, e.target.value) })}\n                />\n\n                <div> Height</div>\n                <input\n                    type=\"number\"\n                    value={data.style.height}\n                    onChange={(e) => setStyle({ height: Math.min(200, e.target.value) })}\n                />\n\n                <div> Background Color</div>\n                <ColorBox\n                    color={data.style.backgroundColor}\n                    setColor={(color) => setStyle({ backgroundColor: color })}\n                />\n\n                <div> Border Color</div>\n                <ColorBox\n                    color={data.style.borderColor}\n                    setColor={(color) => setStyle({ borderColor: color })}\n                />\n\n                <div> Border Width</div>\n                <input\n                    type=\"number\"\n                    value={data.style.borderWidth}\n                    onChange={(e) => setStyle({ borderWidth: Math.min(30, e.target.value) })}\n                />\n                <div> Opacity</div>\n                <input\n                    type=\"number\"\n                    step=\".01\"\n                    value={data.style.opacity}\n                    onChange={(e) => setStyle({ opacity: Math.min(1, Math.max(0, e.target.value)) })}\n                />\n            </div>\n        </div>\n    );\n};\n\nexport default NodeDetails;\n","import React, { useCallback } from 'react';\nimport ColorBox from './ColorBox';\nimport './edgeDetails.css';\n\nconst Triangle = ({ size, color }) => {\n    const s = parseInt(size, 10) * 5;\n    const EqTriangle = {\n        borderLeft: `${0.8666 * s}px solid ${color}`,\n        borderBottom: `${s / 2}px solid transparent`,\n        borderTop: `${s / 2}px solid transparent`,\n        marginLeft: -1,\n    };\n    return (\n        <div style={EqTriangle} />\n    );\n};\n\nconst EdgeDetails = ({\n    data, setData, submit, labelAllowed,\n}) => {\n    const setStyle = (prop) => setData({ ...data, style: { ...data.style, ...prop } });\n    const inputRef = useCallback((node) => node && node.focus(), []);\n\n    return (\n        <div className=\"edgeform\" onSubmit={submit}>\n            <div className=\"par-div\">\n                <div\n                    className=\"edge-div\"\n                    style={{ ...data.style, height: data.style.thickness }}\n                />\n                <Triangle size={data.style.thickness} color={data.style.backgroundColor} />\n                <div className=\"label\">{data.label}</div>\n            </div>\n            <div className=\"form\">\n                {labelAllowed ? <div> Label</div> : ''}\n                {labelAllowed ? (\n                    <input\n                        ref={inputRef}\n                        className=\"edgeLabel\"\n                        type=\"text\"\n                        required\n                        label=\"Edge Label\"\n                        value={data.label}\n                        placeholder=\"Enter Edge Label\"\n                        onChange={(e) => setData({ ...data, label: `${e.target.value}` })}\n                    />\n                ) : ''}\n                <div> Thickness</div>\n                <input\n                    type=\"number\"\n                    value={data.style.thickness}\n                    onChange={(e) => setStyle({ thickness: Math.max(0, Math.min(20, e.target.value)) })}\n                />\n                <div> Background Color</div>\n                <ColorBox\n                    color={data.style.backgroundColor}\n                    setColor={(color) => setStyle({ backgroundColor: color })}\n                />\n            </div>\n        </div>\n    );\n};\n\nexport default EdgeDetails;\n","const NodeStyle = {\n    width: 100,\n    height: 50,\n    shape: 'rectangle',\n    opacity: 1,\n    backgroundColor: '#e0f2f1',\n    borderColor: '#000',\n    borderWidth: 1,\n};\n\nconst EdgeStyle = {\n    thickness: 1,\n    backgroundColor: '#000',\n};\n\nexport { NodeStyle, EdgeStyle };\n","const initialState = {\n    ModelOpen: false,\n    modalPayload: {\n        cb: () => {},\n        title: '',\n        submitText: '',\n        Children: '',\n        defaultStyle: {},\n        defaultLabel: '',\n        labelAllowed: null,\n    },\n    eleSelected: false,\n    drawModeOn: true,\n    undoEnabled: false,\n    redoEnabled: false,\n    shareModal: false,\n    graphs: [],\n    curGraphIndex: 0,\n};\n\nconst initialGraphState = {\n    projectDetails: {\n        projectName: '',\n        author: '',\n        set: false,\n    },\n    component: null,\n    instance: null,\n};\n\nexport { initialState, initialGraphState };\n","import T from './actionType';\nimport NodeDetails from '../component/modals/NodeDetails';\nimport EdgeDetails from '../component/modals/EdgeDetails';\nimport { NodeStyle, EdgeStyle } from '../config/defaultStyles';\nimport { initialGraphState } from './initialState';\n\nconst reducer = (state, action) => {\n    switch (action.type) {\n    case T.Model_Open_Create_Node:\n        return {\n            ...state,\n            ModelOpen: true,\n            modalPayload: {\n                title: 'Create Node',\n                submitText: 'Create Node',\n                Children: NodeDetails,\n                defaultStyle: NodeStyle,\n                defaultLabel: '',\n                labelAllowed: true,\n                cb: action.cb,\n            },\n        };\n    case T.Model_Open_Create_Edge:\n        return {\n            ...state,\n            ModelOpen: true,\n            modalPayload: {\n                title: 'Create Edge',\n                submitText: 'Create Edge',\n                Children: EdgeDetails,\n                defaultStyle: EdgeStyle,\n                defaultLabel: '',\n                labelAllowed: true,\n                cb: action.cb,\n            },\n        };\n    case T.Model_Open_Update_Node: {\n        return {\n            ...state,\n            ModelOpen: true,\n            modalPayload: {\n                title: 'Edit Node',\n                submitText: 'Edit Node',\n                Children: NodeDetails,\n                defaultStyle: action.style,\n                defaultLabel: action.label,\n                labelAllowed: action.labelAllowed,\n                cb: action.cb,\n            },\n        };\n    }\n    case T.Model_Open_Update_Edge: {\n        return {\n            ...state,\n            ModelOpen: true,\n            modalPayload: {\n                title: 'Edit Edge',\n                submitText: 'Edit Edge',\n                Children: EdgeDetails,\n                defaultStyle: action.style,\n                defaultLabel: action.label,\n                labelAllowed: action.labelAllowed,\n                cb: action.cb,\n            },\n        };\n    }\n    case T.Model_Close: return { ...state, ModelOpen: false };\n    case T.ELE_SELECTED: return { ...state, eleSelected: true, eleSelectedPayload: action.payload };\n    case T.ELE_UNSELECTED: return { ...state, eleSelected: false };\n    case T.TURN_DRAW: return { ...state, drawModeOn: action.payload };\n\n    case T.SET_UNDO: return { ...state, undoEnabled: action.payload };\n    case T.SET_REDO: return { ...state, redoEnabled: action.payload };\n\n    case T.ADD_GRAPH: {\n        return {\n            ...state,\n            graphs: [\n                ...state.graphs,\n                {\n                    ...initialGraphState,\n                    component: action.payload.component,\n                    projectDetails: action.payload.projectDetails,\n                    id: action.payload.id,\n                    instance: action.payload.instance,\n                },\n            ],\n        };\n    }\n    case T.ADD_GRAPH_INSTANCE: {\n        const newState = { ...state };\n        newState.graphs[action.index].instance = action.instance;\n        return { ...newState };\n    }\n\n    case T.NEW_GRAPH: return { ...state, curGraphIndex: state.graphs.length };\n    case T.CHANGE_TAB: return { ...state, curGraphIndex: action.payload };\n    case T.REMOVE_GRAPH: return {\n        ...state,\n        graphs: state.graphs.filter((e, i) => i !== action.payload),\n        curGraphIndex: state.curGraphIndex < action.payload\n            ? state.curGraphIndex\n            : Math.max(0, state.curGraphIndex - 1),\n    };\n\n    case T.SET_PROJECT_DETAILS: {\n        const newState = { ...state };\n        newState.graphs = newState.graphs.map((g) => {\n            if (g.id === action.payload.id) {\n                if (g.instance) g.instance.setProjectDetail(action.payload.projectDetails);\n                return { ...g, projectDetails: action.payload.projectDetails };\n            }\n            return g;\n        });\n        return { ...newState };\n    }\n\n    case T.SET_SHARE_MODAL: {\n        return { ...state, shareModal: action.payload };\n    }\n\n    default:\n        return state;\n    }\n};\nexport default reducer;\n","const getSet = () => {\n    const ALL_GRAPHS = 'ALL_GRAPHS';\n    if (!window.localStorage.getItem(ALL_GRAPHS)) {\n        window.localStorage.setItem(ALL_GRAPHS, window.btoa(JSON.stringify([])));\n    }\n    return new Set(JSON.parse(window.atob(window.localStorage.getItem(ALL_GRAPHS))));\n};\n\nconst localStorageManager = {\n    ALL_GRAPHS: 'ALL_GRAPHS',\n\n    allgs: getSet(),\n\n    saveAllgs() {\n        window.localStorage.setItem(this.ALL_GRAPHS, window.btoa(JSON.stringify(Array.from(this.allgs))));\n    },\n\n    addEmptyIfNot() {\n        if (!window.localStorage.getItem(this.ALL_GRAPHS)) {\n            window.localStorage.setItem(this.ALL_GRAPHS, window.btoa(JSON.stringify([])));\n        }\n    },\n\n    get(id) {\n        if (window.localStorage.getItem(id) === null) return null;\n        return JSON.parse(window.atob(window.localStorage.getItem(id)));\n    },\n    save(id, graphContent) {\n        this.addGraph(id);\n        const serializedJson = JSON.stringify(graphContent);\n        window.localStorage.setItem(id, window.btoa(serializedJson));\n    },\n    remove(id) {\n        if (this.allgs.delete(id)) this.saveAllgs();\n        localStorage.removeItem(id);\n    },\n    addGraph(id) {\n        if (this.allgs.has(id)) return;\n        this.allgs.add(id);\n        this.saveAllgs();\n    },\n    getAllGraphs() {\n        return JSON.parse(window.atob(window.localStorage.getItem(this.ALL_GRAPHS)));\n    },\n    addToFront(id) {\n        if (this.allgs.has(id)) return;\n        this.allgs.add(id);\n        const Garr = JSON.parse(window.atob(window.localStorage.getItem(this.ALL_GRAPHS)));\n        Garr.unshift(id);\n        window.localStorage.setItem(this.ALL_GRAPHS, window.btoa(JSON.stringify(Garr)));\n    },\n};\nexport default localStorageManager;\n","const nodeML = ({\n  label, id, posX, posY, width, height, opacity, shape, backgroundColor, borderColor, borderWidth,\n}) => ({\n  $: {\n    id,\n  },\n  data: [\n    {\n      $: {\n        key: 'd6',\n      },\n      'y:ShapeNode': [\n        {\n          'y:Geometry': [\n            {\n              $: {\n                height,\n                width,\n                x: posX,\n                y: posY,\n              },\n            },\n          ],\n          'y:Fill': [\n            {\n              $: {\n                color: backgroundColor,\n                opacity,\n              },\n            },\n          ],\n          'y:BorderStyle': [\n            {\n              $: {\n                color: borderColor,\n                width: borderWidth,\n              },\n            },\n          ],\n          'y:NodeLabel': [label],\n          'y:Shape': [\n            {\n              $: {\n                type: shape,\n              },\n            },\n          ],\n        },\n      ],\n    },\n  ],\n});\n\nexport default nodeML;\n","const graphML = ({\n  nodes, edges, id, projectName, author,\n}) => ({\n  graphml: {\n    $: {\n      xmlns: 'http://graphml.graphdrawing.org/xmlns',\n      'xmlns:xsi': 'http://www.w3.org/2001/XMLSchema-instance',\n      'xsi:schemaLocation': 'http://graphml.graphdrawing.org/xmlns http://www.yworks.com/xml/schema/graphml/1.1/ygraphml.xsd',\n      'xmlns:y': 'http://www.yworks.com/xml/graphml',\n    },\n    key: [\n      {\n        $: {\n          for: 'node',\n          id: 'd6',\n          'yfiles.type': 'nodegraphics',\n        },\n      },\n      {\n        $: {\n          for: 'edge',\n          id: 'd10',\n          'yfiles.type': 'edgegraphics',\n        },\n      },\n    ],\n    graph: [\n      {\n        $: {\n          edgedefault: 'directed',\n          id,\n          projectName,\n          author,\n        },\n        node: nodes,\n        edge: edges,\n      },\n    ],\n  },\n});\n\nexport default graphML;\n","const edgeML = ({\n  id, label, source, target, lineColor, lineWidth, bendPoint,\n}) => ({\n  $: {\n    id,\n    source,\n    target,\n  },\n  data: [\n    {\n      $: {\n        key: 'd10',\n      },\n      'y:GenericEdge': [\n        {\n          $: {\n            configuration: 'com.yworks.bpmn.Connection',\n          },\n          'y:LineStyle': [\n            {\n              $: {\n                color: lineColor,\n                width: lineWidth,\n              },\n            },\n          ],\n          'y:Arrows': [\n            {\n              $: {\n                source: 'none',\n                target: 'delta',\n              },\n            },\n          ],\n          'y:EdgeLabel': [label],\n          'y:Path': [\n            {\n              $: {\n                sx: '0.0',\n                sy: '0.0',\n                tx: '0.0',\n                ty: '0.0',\n              },\n              'y:Point': [\n                { $: bendPoint },\n              ],\n            },\n          ],\n        },\n      ],\n    },\n  ],\n});\n\nexport default edgeML;\n","import xml2js from 'xml2js';\nimport nodeML from './nodeML';\nimport graphML from './graphML';\nimport edgeML from './edgeML';\n\nconst builder = (G) => {\n    const nodes = G.nodes.map((node) => (nodeML({\n        label: node.label,\n        id: node.id,\n        posX: node.position.x,\n        posY: node.position.y,\n        ...node.style,\n    })));\n    const edges = G.edges.map((edg, i) => edgeML({\n        id: i,\n        label: edg.label,\n        source: edg.source,\n        target: edg.target,\n        lineColor: edg.style.backgroundColor,\n        lineWidth: edg.style.thickness,\n        bendPoint: edg.style.bendPoint,\n    }));\n    const X = graphML({\n        nodes, edges, projectName: G.projectDetails.projectName, author: G.projectDetails.author, id: G.id,\n    });\n    const xml = new xml2js.Builder().buildObject(X);\n    return xml;\n};\nexport default builder;\n","const BendingDistanceWeight = {\n\n    dist: (A, B) => (((A.x - B.x) ** 2 + (A.y - B.y) ** 2) ** 0.5),\n\n    rotate: (P, Q) => ({\n        x: P.x * Math.cos(Q) - P.y * Math.sin(Q),\n        y: P.x * Math.sin(Q) + P.y * Math.cos(Q),\n    }),\n\n    extraRad: (A, B) => (((A.x >= B.x && A.y > B.y) || (A.x >= B.x && A.y < B.y)) ? Math.PI : 0),\n\n    getRadian(tanQ, A, B) {\n        return (Math.atan(tanQ) - this.extraRad(A, B) + 2 * Math.PI) % (2 * Math.PI);\n    },\n\n    getCoordinate(w, d, A, B) {\n        const tanQ = (A.y - B.y) / (A.x - B.x);\n        const Q = this.getRadian(tanQ, A, B);\n        const D = this.dist(A, B) * w;\n        const P = { x: D, y: d };\n        const { x, y } = this.rotate(P, Q);\n        return { x: x + A.x, y: y + A.y };\n    },\n\n    getWeightDistance(p, A, B) {\n        const P = { x: p.x - A.x, y: p.y - A.y };\n        const tanQ = (A.y - B.y) / (A.x - B.x);\n        const Q = this.getRadian(tanQ, A, B);\n        const { x, y } = this.rotate(P, -Q);\n        const d = this.dist(A, B);\n        return { d: y, w: x / d };\n    },\n};\n\nexport default BendingDistanceWeight;\n","import { saveAs } from 'file-saver';\nimport { actionType as T } from '../reducer';\nimport localStorageManager from './local-storage-manager';\nimport graphmlBuilder from './graphml/builder';\nimport BendingDistanceWeight from './calculations/bending-dist-weight';\n\nconst GraphLoadSave = (ParentClass) => class extends ParentClass {\n    constructor() {\n        super();\n        this.autoSaveIntervalId = null;\n    }\n\n    regesterEvents() {\n        if (super.regesterEvents) super.regesterEvents();\n        this.cy.on('add remove data dragfreeon', 'node[type=\"ordin\"]', this.saveLocalStorage.bind(this));\n        this.cy.on('add remove data', 'edge[type=\"ordin\"]', this.saveLocalStorage.bind(this));\n        this.cy.on('nodeediting.resizeend graph-modified', this.saveLocalStorage.bind(this));\n    }\n\n    downloadImg(format) {\n        if (format === 'PNG') saveAs(this.cy.png(), `${this.getName()}-DHGWorkflow.png`);\n        if (format === 'JPG') saveAs(this.cy.png(), `${this.getName()}-DHGWorkflow.jpg`);\n    }\n\n    shouldNodeBeSaved(nodeID) {\n        return this.getById(nodeID).data('type') === 'ordin';\n    }\n\n    shouldEdgeBeSaved(edgeID) {\n        return this.getById(edgeID).data('type') === 'ordin';\n    }\n\n    // eslint-disable-next-line class-methods-use-this\n    getRealSourceId(nodeID) {\n        return nodeID;\n    }\n\n    jsonifyGraph() {\n        const graph = {\n            nodes: [], edges: [], projectDetails: this.projectDetails, id: this.id,\n        };\n        this.cy.nodes().forEach((node) => {\n            if (this.shouldNodeBeSaved(node.id())) {\n                const all = node.json();\n                const nodeJson = {\n                    label: all.data.label,\n                    id: all.data.id,\n                    position: all.position,\n                };\n                nodeJson.style = this.getStyle(node.id());\n                graph.nodes.push(nodeJson);\n            }\n        });\n        this.cy.edges().forEach((edge) => {\n            if (this.shouldEdgeBeSaved(edge.id())) {\n                const all = edge.json();\n                const edgeJson = {\n                    source: this.getRealSourceId(edge.source().id()),\n                    target: all.data.target,\n                    label: all.data.label,\n                };\n                edgeJson.style = this.getStyle(edge.id());\n                edgeJson.style.bendPoint = BendingDistanceWeight.getCoordinate(\n                    edgeJson.style.bendWeight, edgeJson.style.bendDistance,\n                    edge.source().position(), edge.target().position(),\n                );\n                graph.edges.push(edgeJson);\n            }\n        });\n        return graph;\n    }\n\n    getName() {\n        return `${this.projectDetails.projectName}-${this.projectDetails.author}`;\n    }\n\n    saveToDisk() {\n        const str = graphmlBuilder(this.jsonifyGraph());\n        const bytes = new TextEncoder().encode(str);\n        const blob = new Blob([bytes], { type: 'application/json;charset=utf-8' });\n        saveAs(blob, `${this.getName()}-DHGWorkflow-${new Date().getTime()}.graphml`);\n    }\n\n    loadJson(content) {\n        const tid = new Date().getTime();\n        content.nodes.forEach((node) => {\n            this.addNode(node.label, node.style, 'ordin', node.position, { }, node.id, tid);\n        });\n        content.edges.forEach((edge) => {\n            this.addEdge(edge.source, edge.target, edge.label, edge.style, 'ordin', undefined, tid);\n        });\n        this.projectDetails = content.projectDetails;\n        this.dispatcher({\n            type: T.SET_PROJECT_DETAILS,\n            payload: {\n                projectDetails: content.projectDetails,\n                id: this.id,\n            },\n        });\n    }\n\n    saveLocalStorage() {\n        if (this.autoSaveTimeoutId !== null) clearTimeout(this.autoSaveIntervalId);\n        this.autoSaveIntervalId = setTimeout(() => localStorageManager.save(this.id, this.jsonifyGraph()), 1000);\n    }\n\n    loadGraphFromLocalStorage() {\n        const graphContent = localStorageManager.get(this.id);\n        if (!graphContent) return false;\n        this.loadJson(graphContent);\n        return true;\n    }\n\n    serializeGraph() {\n        return btoa(JSON.stringify(this.jsonifyGraph()));\n    }\n};\n\nexport default GraphLoadSave;\n","const GraphCanvas = (ParentClass) => class extends ParentClass {\n    resetZoom() {\n        this.cy.reset();\n    }\n\n    setOnZoom(cb) {\n        this.cy.removeListener('zoom');\n        this.setZoomUI = cb;\n        this.cy.on('zoom', (e) => cb(Math.round(100 * e.target.zoom())));\n    }\n\n    fitZoom() {\n        this.cy.fit();\n    }\n\n    setZoom(v) {\n        this.cy.zoom(v / 100);\n    }\n\n    getZoom() {\n        return Math.round(this.cy.zoom() * 100);\n    }\n\n    clearAll() {\n        if (this.cy.elements().length === 0) return true;\n        // eslint-disable-next-line no-alert\n        if (!window.confirm('Do want to clear all elements?')) return false;\n        const tid = new Date().getTime();\n        this.cy.elements().forEach((el) => this.deleteElem(el.id(), tid));\n        return true;\n    }\n\n    setCurStatus() {\n        if (super.setCurStatus) super.setCurStatus();\n        this.setZoomUI(Math.round(this.cy.zoom() * 100));\n    }\n};\n\nexport default GraphCanvas;\n","export default {\n    ADD_NODE: 'ADD_NODE',\n    ADD_EDGE: 'ADD_EDGE',\n    UPDATE_NODE: 'UPDATE_NODE',\n    UPDATE_EDGE: 'UPDATE_EDGE',\n    UPDATE_DATA: 'UPDATE_DATA',\n    DEL_NODE: 'DEL_NODE',\n    DEL_EDGE: 'DEL_EDGE',\n    SET_POS: 'SET_POS',\n    SET_DIM: 'SET_DIM',\n};\n","import BendingDistanceWeight from './calculations/bending-dist-weight';\nimport GA from './graph-actions';\n\nconst GraphComponent = (ParentClass) => class GC extends ParentClass {\n    constructor() {\n        super();\n        this.getTid = () => new Date().getTime();\n    }\n\n    getPos() {\n        const allNodes = this.cy.$('node');\n        const start = { x: 100, y: 100 };\n        let found = true;\n        while (found) {\n            found = false;\n            for (let i = 0; i < allNodes.length; i += 1) {\n                const nodePos = allNodes[i].position();\n                found = found || (nodePos.x === start.x && nodePos.y === start.y);\n            }\n            if (found) {\n                start.x += 10;\n                start.y += 10;\n            }\n        }\n        return start;\n    }\n\n    addNode(label, style, type = 'ordin', position = this.getPos(), data = {}, id, tid = this.getTid()) {\n        const node = this.cy.add({\n            group: 'nodes',\n            data: {\n                ...data, id, label, type, style,\n            },\n            position,\n        });\n        this.addAction(\n            { actionName: GA.DEL_NODE, parameters: [node.id()] },\n            {\n                actionName: GA.ADD_NODE,\n                parameters: [label, style, type, position, data, node.id()],\n            },\n            tid,\n        );\n        return node;\n    }\n\n    parseBendinDW(rawStyle, sourceId, targetId) {\n        if (rawStyle.bendDistance && rawStyle.bendWeight) return rawStyle;\n        if (rawStyle.bendPoint) {\n            const { x, y } = rawStyle.bendPoint;\n            const { d, w } = BendingDistanceWeight.getWeightDistance(\n                { x, y }, this.getById(sourceId).position(), this.getById(targetId).position(),\n            );\n            return { ...rawStyle, bendDistance: d, bendWeight: w };\n        }\n        return { ...rawStyle, bendDistance: 0, bendWeight: 0.5 };\n    }\n\n    addEdge(source, target, label, rawStyle = {}, type = 'ordin', id, tid = this.getTid()) {\n        const style = this.parseBendinDW(rawStyle, source, target);\n        const edge = this.cy.add({\n            group: 'edges',\n            data: {\n                source, target, label, type, id, style,\n            },\n        });\n        this.addAction(\n            { actionName: GA.DEL_EDGE, parameters: [edge.id()] },\n            { actionName: GA.ADD_EDGE, parameters: [source, target, label, style, type, edge.id()] },\n            tid,\n        );\n\n        return edge;\n    }\n\n    getStyle(id) {\n        return this.getById(id).data('style');\n    }\n\n    getLabel(id) {\n        return this.getById(id).data('label') || this.getById(id).data('label');\n    }\n\n    updateNode(id, style, label, shouldUpdateLabel, tid = this.getTid()) {\n        this.addAction(\n            {\n                actionName: GA.UPDATE_NODE,\n                parameters: [id, this.getStyle(id), this.getById(id).data('label'), shouldUpdateLabel],\n            },\n            { actionName: GA.UPDATE_NODE, parameters: [id, style, label, shouldUpdateLabel] },\n            tid,\n        );\n        if (shouldUpdateLabel) this.getById(id).data('label', label);\n        this.getById(id).data('style', style);\n    }\n\n    updateEdge(id, style, label, shouldUpdateLabel, tid = this.getTid()) {\n        this.addAction(\n            {\n                actionName: GA.UPDATE_EDGE,\n                parameters: [id, this.getStyle(id), this.getById(id).data('label'), shouldUpdateLabel],\n            },\n            { actionName: GA.UPDATE_EDGE, parameters: [id, style, label, shouldUpdateLabel] },\n            tid,\n        );\n        if (shouldUpdateLabel) this.getById(id).data('label', label);\n        this.getById(id).data('style', style);\n    }\n\n    updateData(id, key, val, tid = this.getTid()) {\n        this.addAction(\n            { actionName: GA.UPDATE_DATA, parameters: [id, key, this.getById(id).data(key)] },\n            { actionName: GA.UPDATE_DATA, parameters: [id, key, val] }, tid,\n        );\n        this.getById(id).data(key, val);\n        return this;\n    }\n\n    deleteNode(id, tid = this.getTid()) {\n        const node = this.getById(id);\n        node.connectedEdges('[type=\"ordin\"]').forEach((edge) => this.deleteEdge(edge.id(), tid));\n        node.connectedEdges().forEach((edge) => this.deleteEdge(edge.id(), tid));\n        this.addAction(\n            {\n                actionName: GA.ADD_NODE,\n                parameters: [\n                    node.data('label'), this.getStyle(node.id()), node.data('type'),\n                    node.position(), node.json().data, id,\n                ],\n            },\n            { actionName: GA.DEL_NODE, parameters: [id] }, tid,\n        );\n        node.remove();\n    }\n\n    deleteEdge(id, tid = this.getTid()) {\n        if (this.getById(id).length === 0 || this.getById(id).removed()) return;\n        const jsonEd = this.getById(id).json();\n        this.addAction(\n            {\n                actionName: GA.ADD_EDGE,\n                parameters: [\n                    jsonEd.data.source, jsonEd.data.target, jsonEd.data.label, this.getStyle(id), jsonEd.data.type, id,\n                ],\n            },\n            { actionName: GA.DEL_EDGE, parameters: [id] }, tid,\n        );\n        this.getById(id).remove();\n    }\n\n    deleteElem(id, tid = this.getTid()) {\n        if (this.getById(id).isNode()) return this.deleteNode(id, tid);\n        return this.deleteEdge(id, tid);\n    }\n\n    setPos(id, pos) {\n        this.getById(id).position(pos);\n        this.getById(id).emit('moved');\n    }\n\n    setDim(id, dim, pos) {\n        const style = this.getById(id).data('style');\n        this.getById(id).data('style', { ...style, height: dim.height, width: dim.width });\n        this.setPos(id, pos);\n    }\n};\n\nexport default GraphComponent;\n","import GraphComponent from './graph-component';\nimport GA from './graph-actions';\nimport { actionType as T } from '../reducer';\n\nconst GraphUndoRedo = (ParentClass) => class GUR extends GraphComponent(ParentClass) {\n    constructor() {\n        super();\n\n        GUR.methodsMapped = {\n            [GA.ADD_NODE]: (...args) => super.addNode.bind(this)(...args, 0),\n            [GA.ADD_EDGE]: (...args) => super.addEdge.bind(this)(...args, 0),\n            [GA.UPDATE_NODE]: (...args) => super.updateNode.bind(this)(...args, 0),\n            [GA.UPDATE_EDGE]: (...args) => super.updateEdge.bind(this)(...args, 0),\n            [GA.UPDATE_DATA]: (...args) => super.updateData.bind(this)(...args, 0),\n            [GA.DEL_NODE]: (...args) => super.deleteNode.bind(this)(...args, 0),\n            [GA.DEL_EDGE]: (...args) => super.deleteEdge.bind(this)(...args, 0),\n            [GA.SET_POS]: (...args) => super.setPos.bind(this)(...args, 0),\n            [GA.SET_DIM]: (...args) => super.setDim.bind(this)(...args, 0),\n        };\n\n        this.actionArr = [];\n        this.curActionIndex = 0;\n    }\n\n    static performAction({ actionName, parameters }) {\n        const action = GUR.methodsMapped[actionName];\n        action(...parameters);\n    }\n\n    addPositionChange(id, prevPos, curPos) {\n        const tid = new Date().getTime();\n        this.addAction(\n            { actionName: GA.SET_POS, parameters: [id, prevPos] },\n            { actionName: GA.SET_POS, parameters: [id, curPos] }, tid,\n        );\n    }\n\n    addDimensionChange(id, prevDim, prevPos, curDim, curPos) {\n        const tid = new Date().getTime();\n        this.addAction(\n            { actionName: GA.SET_DIM, parameters: [id, prevDim, prevPos] },\n            { actionName: GA.SET_DIM, parameters: [id, curDim, curPos] }, tid,\n        );\n    }\n\n    addAction(inverse, equivalent, tid) {\n        if (tid === 0) return;\n        this.actionArr.splice(this.curActionIndex);\n        this.actionArr.push({ tid, inverse, equivalent });\n        this.curActionIndex += 1;\n        this.dispatcher({ type: T.SET_UNDO, payload: this.curActionIndex !== 0 });\n        this.dispatcher({ type: T.SET_REDO, payload: this.curActionIndex !== this.actionArr.length });\n    }\n\n    undo() {\n        let curTid = null;\n        if (this.curActionIndex !== 0) curTid = this.actionArr[this.curActionIndex - 1].tid;\n        while (this.curActionIndex !== 0 && this.actionArr[this.curActionIndex - 1].tid === curTid) {\n            this.curActionIndex -= 1;\n            GUR.performAction(this.actionArr[this.curActionIndex].inverse);\n        }\n        this.dispatcher({ type: T.SET_UNDO, payload: this.curActionIndex !== 0 });\n        this.dispatcher({ type: T.SET_REDO, payload: this.curActionIndex !== this.actionArr.length });\n    }\n\n    redo() {\n        let curTid = null;\n        if (this.curActionIndex !== this.actionArr.length) curTid = this.actionArr[this.curActionIndex].tid;\n        while (this.curActionIndex !== this.actionArr.length && this.actionArr[this.curActionIndex].tid === curTid) {\n            GUR.performAction(this.actionArr[this.curActionIndex].equivalent);\n            this.curActionIndex += 1;\n        }\n        this.dispatcher({ type: T.SET_UNDO, payload: this.curActionIndex !== 0 });\n        this.dispatcher({ type: T.SET_REDO, payload: this.curActionIndex !== this.actionArr.length });\n    }\n\n    setCurStatus() {\n        if (super.setCurStatus) super.setCurStatus();\n        this.dispatcher({ type: T.SET_UNDO, payload: this.curActionIndex !== 0 });\n        this.dispatcher({ type: T.SET_REDO, payload: this.curActionIndex !== this.actionArr.length });\n    }\n};\n\nexport default GraphUndoRedo;\n","import { actionType as T } from '../reducer';\nimport GraphLoadSave from './graph-load-save';\nimport GraphCanvas from './graph-canvas';\nimport GraphUndoRedo from './graph-undo-redo';\nimport BendingDistanceWeight from './calculations/bending-dist-weight';\n\nconst CoreGraph = (ParentClass) => class CG extends\n    GraphLoadSave(GraphCanvas(GraphUndoRedo(ParentClass))) {\n    constructor(id, cy, dispatcher, superState, projectDetails) {\n        super();\n        if (dispatcher) this.dispatcher = dispatcher;\n        if (superState) this.superState = superState;\n        if (cy) this.cy = cy;\n        this.id = id;\n        this.projectDetails = projectDetails;\n        this.cy.emit('graph-modified');\n        this.bendNode = this.cy.add(\n            { group: 'nodes', data: { type: 'bend' }, classes: ['hidden'] },\n        );\n        this.regesterEvents();\n    }\n\n    setProjectDetail(projectDetails) {\n        this.projectDetails = projectDetails;\n        this.cy.emit('graph-modified');\n    }\n\n    getById(x) {\n        return this.cy.getElementById(x);\n    }\n\n    set({ cy, dispatcher, superState }) {\n        if (dispatcher) this.dispatcher = dispatcher;\n        if (superState) this.superState = superState;\n        if (cy) this.cy = cy;\n    }\n\n    selectDeselectEventHandler() {\n        const els = this.cy.$(':selected');\n        if (els.length === 0) { return this.dispatcher({ type: T.ELE_UNSELECTED }); }\n        let type;\n        if (els.every((e) => e.isNode())) type = 'NODE';\n        else if (els.every((e) => e.isEdge())) type = 'EDGE';\n        else type = 'MIX';\n        const ids = els.map((e) => e.data('id'));\n        return this.dispatcher({\n            type: T.ELE_SELECTED,\n            payload: {\n                ids, type,\n            },\n        });\n    }\n\n    regesterEvents() {\n        if (super.regesterEvents) super.regesterEvents();\n        this.cy.on('select unselect', () => this.selectDeselectEventHandler());\n        this.cy.on('grab', (e) => {\n            e.target.forEach((node) => {\n                node.scratch('position', { ...node.position() });\n            });\n        });\n        this.cy.on('dragfree', (e) => {\n            e.target.forEach((node) => {\n                this.addPositionChange(node.id(), node.scratch('position'), { ...node.position() });\n            });\n        });\n        this.cy.on('nodeediting.resizestart', (e, type, node) => {\n            node.scratch('height', node.data('style').height);\n            node.scratch('width', node.data('style').width);\n            node.scratch('position', { ...node.position() });\n        });\n        this.cy.on('nodeediting.resizeend', (e, type, node) => {\n            this.addDimensionChange(\n                node.id(),\n                { height: node.scratch('height'), width: node.scratch('width') },\n                node.scratch('position'),\n                { height: node.data('style').height, width: node.data('style').width },\n                { ...node.position() },\n            );\n        });\n\n        this.cy.on('hide-bend remove', () => {\n            this.bendNode.removeListener('drag'); this.bendNode.addClass('hidden');\n        });\n\n        this.cy.on('grabon', (evt) => (evt.target[0].data('type') !== 'bend' ? this.cy.emit('hide-bend') : 0));\n        this.cy.on('freeon', (evt) => (evt.target[0].data('type') !== 'bend' ? this.cy.emit('show-bend') : 0));\n\n        this.cy.on('click tap', (ev) => {\n            if (ev.target === this.cy) {\n                this.cy.emit('hide-bend');\n                this.cy.$('.eh-handle').remove();\n            }\n        });\n        this.cy.on('select unselect show-bend', () => {\n            const el = this.cy.$(':selected');\n            if (el.length !== 1 || !el[0].isEdge()) this.cy.emit('hide-bend');\n            return el.emit('bend-edge');\n        });\n        this.cy.on('mouseover', 'edge', (ev) => {\n            ev.target.emit('bend-edge');\n        });\n\n        this.cy.on('bend-edge', 'edge', (ev) => {\n            if (!this.bendNode.hasClass('hidden')) this.cy.emit('hide-bend');\n            const el = ev.target;\n            this.bendNode.position(CG.getBendEdgePoint(el));\n            this.bendNode.on('drag', () => {\n                const DW = BendingDistanceWeight.getWeightDistance(\n                    this.bendNode.position(), el.source().position(), el.target().position(),\n                );\n                el.data('style', { ...el.data('style'), bendDistance: DW.d, bendWeight: DW.w });\n                ev.target.emit('bending');\n            });\n            this.bendNode.removeClass('hidden');\n        });\n    }\n\n    static getBendEdgePoint(el) {\n        const { bendWeight, bendDistance } = el.data('style');\n        const w = parseFloat(bendWeight);\n        const d = parseFloat(bendDistance);\n        return BendingDistanceWeight.getCoordinate(w, d, el.source().position(), el.target().position());\n    }\n\n    setCurStatus() {\n        if (super.setCurStatus) super.setCurStatus();\n        this.selectDeselectEventHandler();\n    }\n};\n\nexport default CoreGraph;\n","const boundaryPoint = {\n    getEq(P1, P2) {\n        const m = (P1.y - P2.y) / (P1.x - P2.x);\n        const c = P1.y - m * P1.x;\n        return [m, c];\n    },\n    getX1X2(Cn, P, w, h) {\n        if (Cn.x === P.x) return [P.x, P.x];\n        const P2 = { x: P.x - Cn.x, y: P.y - Cn.y };\n        const [m, c] = this.getEq({ x: 0, y: 0 }, P2);\n        // (22+2)2+22+2(22)\n        const A = (w ** 2 * m ** 2 + h ** 2);\n        const B = 2 * w ** 2 * m * c;\n        const C = w ** 2 * (c ** 2 - h ** 2);\n        const D = B ** 2 - 4 * A * C;\n        const x1 = (-B + D ** 0.5) / (2 * A) + Cn.x;\n        const x2 = (-B - D ** 0.5) / (2 * A) + Cn.x;\n        return [x1, x2];\n    },\n    getY1Y2(C, P, w, h, x1, x2) {\n        if (x1 === x2) return [C.y + h, C.y - h];\n        const [m, c] = this.getEq(C, P);\n        return [m * x1 + c, m * x2 + c];\n    },\n    dist(A, B) {\n        return ((A.x - B.x) ** 2 + (A.y - B.y) ** 2) ** 0.5;\n    },\n    getClosestEllipse(C, P, w, h) {\n        const [x1, x2] = this.getX1X2(C, P, w, h);\n        const [y1, y2] = this.getY1Y2(C, P, w, h, x1, x2);\n        const [d1, d2] = [this.dist(P, { x: x1, y: y1 }), this.dist(P, { x: x2, y: y2 })];\n        if (d1 < d2) return { x: x1, y: y1 };\n        return { x: x2, y: y2 };\n    },\n    slope(x1, y1, x2, y2) {\n        return (x1 - x2) / (y1 - y2);\n    },\n\n    setSubQ(C, P, w, h) {\n        const [S1, S2] = [[C.x + w, C.y + h], [C.x + w, C.y - h]]\n            .map(([x, y]) => ((C.x - x) * (P.y - y) - (C.y - y) * (P.x - x)) > 0);\n        if (S1 && !S2) return 0;\n        if (!S1 && !S2) return 1;\n        if (!S1 && S2) return 2;\n        if (S1 && S2) return 3;\n        return -1;\n    },\n\n    getClosestRect(C, P, w, h) {\n        const [m, c] = this.getEq(P, C);\n        let D = [\n            [C.x + w, C.y],\n            [C.x, C.y + h],\n            [C.x - w, C.y],\n            [C.x, C.y - h],\n        ];\n        if (Math.abs(m) !== Infinity) {\n            D = [ // To point toward center\n                [C.x + w, m * (C.x + w) + c],\n                [(C.y + h - c) / m, C.y + h],\n                [C.x - w, m * (C.x - w) + c],\n                [(C.y - h - c) / m, C.y - h],\n            ];\n        }\n        const [x, y] = D[this.setSubQ(C, P, w, h)];\n        return { x, y };\n    },\n    get(C, P, w, h, type) {\n        if (type === 'rectangle') return boundaryPoint.getClosestRect(C, P, w, h);\n        return boundaryPoint.getClosestEllipse(C, P, w, h);\n    },\n\n};\n\nexport default boundaryPoint.get;\n","import TailoredGraphBuilder from './tailored-graph-builder';\n\nexport default TailoredGraphBuilder;\n","import CoreGraph from './core-graph-builder';\nimport { actionType as T } from '../reducer';\nimport getBoundaryPoint from './calculations/boundary-point';\n\nconst TailoredGraph = (ParentClass) => class TG extends CoreGraph(ParentClass) {\n    regesterEvents() {\n        super.regesterEvents();\n        this.cy.on('drag data', 'node[type=\"ordin\"]', (evt) => {\n            evt.target.connectedEdges().connectedNodes('node[type=\"special\"]').forEach((juncNode) => {\n                juncNode.position(TG.calJuncNodePos(juncNode));\n            });\n        });\n        this.cy.on('bending', (evt) => {\n            const juncNode = evt.target.source();\n            juncNode.position(TG.calJuncNodePos(juncNode));\n        });\n    }\n\n    static calJuncNodePos(juncNode) {\n        const parNode = juncNode.incomers('node')[0];\n        const meanNbrPosition = { x: 0, y: 0 };\n        const setOfPos = new Set();\n        juncNode.outgoers('edge[type=\"ordin\"]')\n            .forEach((edge) => setOfPos.add(JSON.stringify(TG.getBendEdgePoint(edge))));\n        setOfPos.forEach((posStr) => {\n            const pos = JSON.parse(posStr);\n            meanNbrPosition.x += pos.x;\n            meanNbrPosition.y += pos.y;\n        });\n        if (setOfPos.size === 0) return juncNode.position();\n        meanNbrPosition.x /= setOfPos.size;\n        meanNbrPosition.y /= setOfPos.size;\n        return getBoundaryPoint(\n            parNode.position(), meanNbrPosition,\n            parNode.data('style').width / 2,\n            parNode.data('style').height / 2,\n            parNode.data('style').shape,\n        );\n    }\n\n    getRealNode(juncNodeId) {\n        return this.getById(juncNodeId).incomers().filter('node')[0];\n    }\n\n    addAutoMove(juncNode) {\n        juncNode.unselectify();\n        return this;\n    }\n\n    addEdgeWithJuncNode(sourceID, targetID, edgeStyle = {}, tid) {\n        const juncNode = this.getById(sourceID);\n        const ed = super.addEdge(\n            sourceID, targetID,\n            juncNode.data('edgeLabel'),\n            { ...juncNode.data('edgeStyle'), bendDistance: edgeStyle.bendDistance, bendWeight: edgeStyle.bendWeight },\n            'ordin',\n            undefined, tid,\n        );\n        juncNode.position(TG.calJuncNodePos(juncNode));\n        return ed;\n    }\n\n    addEdgeWithoutJuncNode(sourceID, targetID, label, style, tid) {\n        const sourceNode = this.getById(sourceID);\n        const targetNode = this.getById(targetID);\n        const sourceNodeStyle = sourceNode.data('style');\n        const juncNodePos = getBoundaryPoint(\n            sourceNode.position(),\n            targetNode.position(),\n            sourceNodeStyle.width / 2,\n            sourceNodeStyle.height / 2,\n            sourceNodeStyle.shape,\n        );\n        const juncNode = super.addNode('', { 'background-color': style['line-color'] },\n            'special', juncNodePos, { edgeLabel: label, edgeStyle: style }, undefined, tid);\n        super.addEdge(sourceID, juncNode.id(), '', {\n            ...style,\n            'target-arrow-shape': 'none',\n        }, 'special', undefined, tid);\n        this.addAutoMove(juncNode, sourceNode);\n        return this.addEdgeWithJuncNode(juncNode.id(), targetID, style, tid);\n    }\n\n    addEdge(sourceID, targetID, label = '', style, type = 'ordin', id, tid = this.getTid()) {\n        const sourceNode = this.getById(sourceID);\n        //  Condition never statisfies \n        if (type === 'special') return super.addEdge(sourceID, targetID, label, style, type, id, tid);\n        if (sourceNode.data('type') === 'special') return this.addEdgeWithJuncNode(sourceID, targetID, style, tid);\n        const juncNodes = sourceNode.outgoers('node').filter((node) => node.data('edgeLabel') === label);\n        if (juncNodes.length) return this.addEdgeWithJuncNode(juncNodes[0].id(), targetID, style, tid);\n        if (label.length) return this.addEdgeWithoutJuncNode(sourceID, targetID, label, style, tid);\n        this.dispatcher({\n            type: T.Model_Open_Create_Edge,\n            cb: (edgeLabel, edgeStyle) => this.addEdgeWithoutJuncNode(sourceID, targetID, edgeLabel, edgeStyle, tid),\n        });\n        return this;\n    }\n\n    updateEdge(id, style, label, shouldUpdateLabel, tid = this.getTid()) {\n        const junctionNode = this.getById(id).source();\n        if (shouldUpdateLabel) this.updateData(junctionNode.data('id'), 'edgeLabel', label, tid);\n        this.updateData(junctionNode.data('id'), 'edgeStyle', style, tid);\n        this.updateNode([junctionNode.data('id')], { 'background-color': style['line-color'] }, '', false, tid);\n\n        junctionNode\n            .outgoers('edge')\n            .forEach((edge) => super.updateEdge(edge.data('id'), style, label, shouldUpdateLabel, tid));\n    }\n\n    deleteElem(id, tid = this.getTid()) {\n        const el = this.getById(id);\n        if (el.isNode()) {\n            if (el.removed()) return;\n            el.outgoers('node').forEach((x) => super.deleteElem(x.id(), tid));\n            el.connectedEdges().forEach((x) => this.deleteElem(x.id(), tid));\n            super.deleteNode(id, tid);\n        } else {\n            if (el.removed()) return;\n            const junctionNode = el.source();\n            super.deleteEdge(id, tid);\n            if (junctionNode) if (junctionNode.outgoers().length === 0) this.deleteNode(junctionNode.id(), tid);\n        }\n    }\n\n    getRealSourceId(nodeID) {\n        if (this.getById(nodeID).data('type') === 'ordin') return nodeID;\n        if (this.getById(nodeID).incomers('node').length === 0) return nodeID;\n        return this.getById(nodeID).incomers('node')[0].id();\n    }\n};\n\nexport default TailoredGraph;\n","import Slider from 'rc-slider';\nimport React, { useState } from 'react';\nimport { BiReset, BiRectangle } from 'react-icons/bi';\nimport 'rc-slider/assets/index.css';\nimport './zoomSetter.css';\nimport GraphOption from '../config/cytoscape-options';\n\nconst { minZoom, maxZoom } = GraphOption;\nconst marks = {};\n\nconst ZoomComp = ({ superState }) => {\n    const myGraph = superState.graphs[superState.curGraphIndex] && superState.graphs[superState.curGraphIndex].instance;\n    if (!myGraph) return <></>;\n    const [zoomValue, setZoomValue] = useState(myGraph.getZoom());\n    myGraph.setOnZoom(setZoomValue);\n    return (\n        <div>\n            <div className=\"zoom-comp\">\n                <div\n                    role=\"button\"\n                    tabIndex={0}\n                    className=\"zoom-box zoom-btn\"\n                    onClick={() => myGraph.resetZoom()}\n                    onKeyDown={(ev) => ev.key === ' ' && (myGraph.resetZoom())}\n                >\n                    <BiReset />\n\n                </div>\n                <div\n                    role=\"button\"\n                    tabIndex={0}\n                    className=\"zoom-box zoom-btn\"\n                    onClick={() => myGraph.fitZoom()}\n                    onKeyDown={(ev) => ev.key === ' ' && (myGraph.resetZoom())}\n                >\n                    <BiRectangle />\n\n                </div>\n                <div className=\"zoom-box zoom-value\">\n                    {zoomValue}\n                    %\n                </div>\n                <div className=\"slider\">\n                    <Slider\n                        min={100 * minZoom}\n                        max={100 * maxZoom}\n                        marks={marks}\n                        onChange={\n                            (value) => { myGraph.setZoom(value); setZoomValue(value); }\n                        }\n                        included={false}\n                        value={zoomValue}\n                    />\n                </div>\n            </div>\n        </div>\n    );\n};\n\nexport default ZoomComp;\n","class PropFromArr {\n    constructor(obj) {\n        this.arr = [obj];\n        this.flatenArr();\n    }\n\n    flatenArr() {\n        const flatArr = [];\n        for (let i = 0; i < this.arr.length; i += 1) {\n            if (this.arr[i].constructor === Array) this.arr[i].forEach((o) => this.arr.push(o));\n            else flatArr.push(this.arr[i]);\n        }\n        this.arr = flatArr;\n    }\n\n    G(p) {\n        return new PropFromArr(this.arr.map((o) => o[p]).filter((o) => o));\n    }\n\n    S(p) {\n        this.arr = this.arr.map((o) => o[p]).filter((o) => o);\n        this.flatenArr();\n        return this;\n    }\n\n    any() {\n        const arr = [];\n        this.arr.forEach((obj) => {\n            Object.keys(obj).forEach((key) => {\n                arr.push(obj[key]);\n            });\n        });\n        this.arr = arr;\n        this.flatenArr();\n        return this;\n    }\n\n    parseProps(s, t) {\n        const propFromArr = new PropFromArr(this.arr);\n        s.split('.').forEach(\n            (property) => (property === '*' ? propFromArr.any() : propFromArr.S(property)),\n        );\n        if (t === 1) return propFromArr.A();\n        if (t === 2) return propFromArr;\n        return propFromArr.F();\n    }\n\n    A() { return this.arr; }\n\n    F() { return this.arr[0]; }\n}\nexport default PropFromArr;\n","import PropFromArr from './PropFromArr';\n\nconst parseNode = (node) => {\n    const p = new PropFromArr(node).parseProps('data.y:ShapeNode', 2);\n    return {\n        label: p.parseProps('y:NodeLabel._') || p.parseProps('y:NodeLabel'),\n        id: new PropFromArr(node).parseProps('$.id'),\n        position: {\n            x: parseFloat(p.parseProps('y:Geometry.$.x')),\n            y: parseFloat(p.parseProps('y:Geometry.$.y')),\n        },\n        style: {\n            width: parseFloat(p.parseProps('y:Geometry.$.width')),\n            height: parseFloat(p.parseProps('y:Geometry.$.height')),\n            opacity: parseInt(p.parseProps('y:Fill.$.opacity'), 10) || 1,\n            shape: p.parseProps('y:Shape.$.type'),\n            backgroundColor: p.parseProps('y:Fill.$.color'),\n            borderColor: p.parseProps('y:BorderStyle.$.color'),\n            borderWidth: parseInt(p.parseProps('y:BorderStyle.$.width'), 10),\n        },\n    };\n};\n\nconst parseEdge = (edge) => ({\n    label: new PropFromArr(edge).parseProps('data.*.y:EdgeLabel._')\n             || new PropFromArr(edge).parseProps('data.*.y:EdgeLabel'),\n    source: new PropFromArr(edge).parseProps('$.source'),\n    target: new PropFromArr(edge).parseProps('$.target'),\n    style: {\n        backgroundColor: new PropFromArr(edge).parseProps('data.*.y:LineStyle.$.color'),\n        thickness: parseFloat(new PropFromArr(edge).parseProps('data.*.y:LineStyle.$.width')),\n        bendPoint: new PropFromArr(edge).parseProps('data.*.y:Path.y:Point.$'),\n    },\n});\n\nconst parseDetails = (grahML) => grahML.parseProps('graphml.graph.$');\n\nexport { parseNode, parseEdge, parseDetails };\n","import xml2js from 'xml2js';\nimport PropFromArr from './PropFromArr';\nimport { parseNode, parseEdge, parseDetails } from './parseProperties';\n\nconst parser = (graphMlCnt) => new Promise((resolve) => {\n    new xml2js.Parser().parseString(graphMlCnt, (err, grahMLObj) => {\n        const grahML = new PropFromArr(grahMLObj);\n        const nodes = grahML.parseProps('graphml.graph.node', 1).map(parseNode);\n        const edges = grahML.parseProps('graphml.graph.edge', 1).map(parseEdge);\n        const { id, projectName, author } = parseDetails(grahML);\n        const projectDetails = { projectName, author, set: Boolean(projectName && author) };\n        resolve({\n            id, projectDetails, edges, nodes,\n        });\n    });\n});\nexport default parser;\n","import { actionType as T } from '../reducer';\nimport localStorageManager from '../graph-builder/local-storage-manager';\nimport graphMLParser from '../graph-builder/graphml/parser';\n\nconst getGraphFun = (superState) => superState.graphs[superState.curGraphIndex]\n                                        && superState.graphs[superState.curGraphIndex].instance;\n\nconst createNode = (state, setState) => {\n    setState({\n        type: T.Model_Open_Create_Node,\n        cb: (label, style) => {\n            getGraphFun(state).addNode(label, style);\n        },\n    });\n};\n\nconst editElement = (state, setState) => {\n    const shouldUpdateLabel = state.eleSelectedPayload.ids.length === 1;\n    const tid = new Date().getTime();\n    if (state.eleSelectedPayload.type === 'NODE') {\n        setState({\n            type: T.Model_Open_Update_Node,\n            cb: (label, style) => state.eleSelectedPayload.ids.forEach(\n                (id) => getGraphFun(state).updateNode(id, style, label, shouldUpdateLabel, tid),\n            ),\n            labelAllowed: shouldUpdateLabel,\n            label: getGraphFun(state).getLabel(state.eleSelectedPayload.ids[0]),\n            style: getGraphFun(state).getStyle(state.eleSelectedPayload.ids[0]),\n        });\n    }\n    if (state.eleSelectedPayload.type === 'EDGE') {\n        setState({\n            type: T.Model_Open_Update_Edge,\n            cb: (label, style) => state.eleSelectedPayload.ids.forEach(\n                (id) => getGraphFun(state).updateEdge(id, style, label, shouldUpdateLabel, tid),\n            ),\n            labelAllowed: shouldUpdateLabel,\n            label: getGraphFun(state).getLabel(state.eleSelectedPayload.ids[0]),\n            style: getGraphFun(state).getStyle(state.eleSelectedPayload.ids[0]),\n        });\n    }\n};\n\nconst deleteElem = (state) => {\n    const tid = new Date().getTime();\n    state.eleSelectedPayload.ids.forEach((id) => getGraphFun(state).deleteElem(id, tid));\n};\n\nconst downloadImg = (state, setState, format) => {\n    getGraphFun(state).downloadImg(format);\n};\n\nconst saveAction = (state) => {\n    getGraphFun(state).saveToDisk();\n};\n\nconst readFile = (state, setState, e) => {\n    if (e.target && e.target.files && e.target.files[0]) {\n        const fr = new FileReader();\n        fr.onload = (x) => {\n            graphMLParser(x.target.result).then((graphContent) => {\n                const id = new Date().getTime();\n                localStorageManager.save(id, graphContent);\n                setState({\n                    type: T.ADD_GRAPH,\n                    payload: { id, projectDetails: { ...graphContent.projectDetails, set: true } },\n                });\n            });\n        };\n        fr.readAsText(e.target.files[0]);\n    }\n};\n\nconst newProject = (state, setState) => {\n    setState({ type: T.NEW_GRAPH });\n};\n\nconst clearAll = (state) => {\n    getGraphFun(state).clearAll();\n};\n\nconst editDetails = (state, setState) => {\n    setState({\n        type: T.SET_PROJECT_DETAILS,\n        payload: {\n            projectDetails: { ...getGraphFun(state).projectDetails, set: false },\n            id: getGraphFun(state).id,\n        },\n    });\n};\nconst undo = (state) => {\n    if (getGraphFun(state))getGraphFun(state).undo();\n};\nconst redo = (state) => {\n    getGraphFun(state).redo();\n};\n\nconst openShareModal = (state, setState) => {\n    setState({ type: T.SET_SHARE_MODAL, payload: true });\n};\n\nexport {\n    createNode, editElement, deleteElem, downloadImg, saveAction,\n    readFile, newProject, clearAll, editDetails, undo, redo,\n    openShareModal,\n};\n","import React from 'react';\nimport {\n    MdEdit, MdClose, MdAdd,\n} from 'react-icons/md';\nimport hotkeys from 'hotkeys-js';\nimport ReactTooltip from 'react-tooltip';\nimport localStorageManager from '../graph-builder/local-storage-manager';\nimport { actionType as T } from '../reducer';\nimport { newProject, editDetails } from '../toolbarActions/toolbarFunctions';\nimport './tabBar.css';\n\nconst TabBar = ({ superState, dispatcher }) => {\n    const closeTab = (i, e) => {\n        e.stopPropagation();\n        // eslint-disable-next-line no-alert\n        if (!window.confirm('Do you confirm to close the tab? This action is irreversable.')) return;\n        localStorageManager.remove(superState.graphs[i] ? superState.graphs[i].id : null);\n        dispatcher({ type: T.REMOVE_GRAPH, payload: i });\n    };\n    const editCur = (e) => {\n        e.stopPropagation();\n        editDetails(superState, dispatcher);\n    };\n    React.useEffect(() => {\n        hotkeys('ctrl+shift+m,command+shift+m', (event) => {\n            event.preventDefault();\n            document.getElementById('new_graph').click();\n        });\n        hotkeys('ctrl+shift+e,command+shift+e', (event) => {\n            event.preventDefault();\n            const el = document.querySelector('.tab.tab-graph.selected > .tab-act.edit');\n            if (el) el.click();\n        });\n        hotkeys('ctrl+shift+l,command+shift+l', (event) => {\n            event.preventDefault();\n            const el = document.querySelector('.tab.tab-graph.selected > .tab-act.close');\n            if (el) el.click();\n        });\n    }, []);\n\n    return (\n        <div className=\"tab-par\">\n            <button\n                className=\"tab\"\n                onClick={newProject.bind(this, superState, dispatcher)}\n                type=\"button\"\n                id=\"new_graph\"\n                data-tip=\"New Workflow Tab (Ctrl + Shift + M)\"\n            >\n                <MdAdd size={25} />\n            </button>\n            {superState.graphs.map((el, i) => (\n                <div\n                    key={el.id}\n                    className={`tab tab-graph ${superState.curGraphIndex === i ? 'selected' : 'none'}`}\n                    onClick={() => dispatcher({ type: T.CHANGE_TAB, payload: i })}\n                    onKeyDown={(ev) => ev.key === ' ' && dispatcher({ type: T.CHANGE_TAB, payload: i })}\n                    role=\"button\"\n                    tabIndex={0}\n                    id={`tab_${i}`}\n                >\n                    <span className=\"tab-text\">\n                        {el.projectDetails.projectName}\n                        {' - '}\n                        {el.projectDetails.author}\n                    </span>\n\n                    {superState.curGraphIndex === i ? (\n                        <button\n                            className=\"tab-act edit\"\n                            onClick={editCur}\n                            type=\"button\"\n                            data-tip=\"Edit Workflow Details (Ctrl + Shift + E)\"\n                            data-for=\"header-tab\"\n                        >\n                            <MdEdit size={16} />\n                        </button>\n                    ) : <></>}\n                    <button\n                        className=\"tab-act close\"\n                        onClick={closeTab.bind(this, i)}\n                        type=\"button\"\n                        data-tip=\"Close current Workflow (Ctrl + Shift + L)\"\n                        data-for=\"header-tab\"\n                    >\n                        <MdClose size={20} />\n                    </button>\n                    <ReactTooltip place=\"bottom\" type=\"dark\" effect=\"solid\" id=\"header-tab\" />\n                </div>\n            ))}\n        </div>\n    );\n};\n\nexport default TabBar;\n","import React, { useEffect } from 'react';\nimport cytoscape from 'cytoscape';\nimport edgehandles from 'cytoscape-edgehandles';\nimport gridGuide from 'cytoscape-grid-guide';\nimport Konva from 'konva';\nimport nodeEditing from 'cytoscape-node-editing';\nimport $ from 'jquery';\nimport cyOptions from './config/cytoscape-options';\nimport MyGraph from './graph-builder';\nimport ZoomComp from './component/ZoomSetter';\n\nimport { actionType as T } from './reducer';\nimport './graph.css';\nimport localStorageManager from './graph-builder/local-storage-manager';\nimport TabBar from './component/TabBar';\n\nconst GraphComp = (props) => {\n    const graphContainerRef = React.createRef();\n    const { dispatcher, superState } = props;\n\n    const initialiseNewGraph = (element, id, projectDetails) => {\n        // eslint-disable-next-line no-param-reassign\n        element.style.width = `${graphContainerRef.current.offsetWidth - 2}px`;\n        // eslint-disable-next-line no-param-reassign\n        element.style.height = `${graphContainerRef.current.offsetHeight - 2}px`;\n        const cy = cytoscape({ ...cyOptions, container: element });\n        cy.nodeEditing({\n            resizeToContentCueEnabled: () => false,\n            setWidth(node, width) {\n                node.data('style', { ...node.data('style'), width });\n            },\n            setHeight(node, height) {\n                node.data('style', { ...node.data('style'), height });\n            },\n            isNoResizeMode(node) { return node.data('type') !== 'ordin'; },\n            isNoControlsMode(node) { return node.data('type') !== 'ordin'; },\n        });\n\n        cy.gridGuide({\n            snapToGridOnRelease: false,\n            zoomDash: true,\n            panGrid: true,\n        });\n        const myGraph = new (MyGraph(Object))(id, cy, dispatcher, superState, projectDetails);\n        cy.edgehandles({\n            preview: false,\n            handlePosition() {\n                return 'none';\n            },\n            handleNodes: 'node[type = \"ordin\"],node[type = \"special\"]',\n            complete: (a, b, c) => { c.remove(); myGraph.addEdge(a.id(), b.id()); },\n        });\n        myGraph.loadGraphFromLocalStorage();\n        return myGraph;\n    };\n    useEffect(() => {\n        superState.graphs.forEach((e, i) => {\n            if (e.instance) return;\n            const { id } = e;\n            const graph = initialiseNewGraph(document.getElementById(id), id, e.projectDetails);\n            dispatcher({ type: T.ADD_GRAPH_INSTANCE, instance: graph, index: i });\n        });\n    }, [superState.graphs.length]);\n\n    useEffect(() => {\n        if (superState.graphs[superState.curGraphIndex]) {\n            superState.graphs[superState.curGraphIndex].instance.setCurStatus();\n        }\n    }, [superState.curGraphIndex]);\n\n    useEffect(() => {\n        if (typeof cytoscape('core', 'edgehandles') !== 'function') {\n            cytoscape.use(edgehandles);\n        }\n        if (typeof cytoscape('core', 'nodeEditing') !== 'function') {\n            nodeEditing(cytoscape, $, Konva);\n        }\n        if (typeof cytoscape('core', 'gridGuide') !== 'function') {\n            gridGuide(cytoscape);\n        }\n        const graphFromParams = Object.fromEntries(new URLSearchParams(window.location.search).entries()).g;\n        if (graphFromParams) {\n            const graphContent = JSON.parse(atob(graphFromParams));\n            const gid = new Date().getTime().toString();\n            localStorageManager.addToFront(gid);\n            localStorageManager.save(gid, graphContent);\n            window.history.replaceState({}, document.title, window.location.pathname);\n        }\n        localStorageManager.getAllGraphs().forEach((graphId) => {\n            dispatcher({\n                type: T.ADD_GRAPH,\n                payload: {\n                    id: graphId,\n                    projectDetails: { projectName: '', author: '', set: true },\n                },\n            });\n        });\n    }, []);\n\n    return (\n        <div\n            style={{\n                flex: 1,\n                flexDirection: 'column',\n                display: 'flex',\n                width: '100%',\n            }}\n        >\n            <TabBar superState={superState} dispatcher={dispatcher} />\n            <div style={{ flex: 1, background: 'white' }} className=\"graph-container\" ref={graphContainerRef}>\n                {superState.graphs.map((el, i) => (\n                    <div\n                        style={{ zIndex: 1, display: superState.curGraphIndex === i ? 'block' : 'none' }}\n                        id={el.id}\n                        key={el.id}\n                    />\n                ))}\n                <ZoomComp dispatcher={dispatcher} superState={superState} />\n            </div>\n        </div>\n    );\n};\n\nexport default GraphComp;\n","import React, { useState, useEffect } from 'react';\nimport ReactModal from 'react-modal';\nimport './parent-modal.css';\n\nReactModal.setAppElement('#root');\n\nconst Modal = ({\n    closeModal, ModelOpen, title, children,\n}) => {\n    const [curClass, setCurClass] = useState('');\n    const [isOpen, setIsOpen] = useState(ModelOpen);\n    const [stid, setStid] = useState(null);\n    useEffect(() => {\n        if (ModelOpen === true) {\n            setIsOpen(true);\n            setCurClass('closing');\n            clearTimeout(stid);\n            setStid(setTimeout(() => {\n                setIsOpen(true);\n                setCurClass('');\n            }, 20));\n        } else {\n            setCurClass('closing');\n            clearTimeout(stid);\n            setStid(setTimeout(() => {\n                setIsOpen(false);\n            }, 400));\n        }\n    }, [ModelOpen]);\n\n    if (!isOpen) return '';\n    return (\n        <ReactModal\n            isOpen={isOpen}\n            contentLabel=\"onRequestClose Example\"\n            onRequestClose={closeModal}\n            className=\"Modal\"\n            overlayClassName={`Overlay ${curClass}`}\n        >\n            <div className={`modal-content ${curClass}`}>\n                <div className=\"modal-header\">\n                    <div className=\"modal-title h4\">{title}</div>\n                    <button type=\"button\" className=\"close\" onClick={closeModal}>\n                        {closeModal ? <span aria-hidden=\"true\"></span> : ''}\n                        <span className=\"sr-only\">Close</span>\n                    </button>\n                </div>\n                {children}\n            </div>\n        </ReactModal>\n    );\n};\nexport default Modal;\n","import React, { useState, useEffect } from 'react';\nimport './graph-comp-details.css';\nimport ParentModal from './ParentModal';\n\nconst ModalComp = ({ closeModal, superState }) => {\n    const [data, setData] = useState({});\n    const { modalPayload, ModelOpen } = superState;\n    const {\n        cb, title, submitText, Children, defaultStyle, defaultLabel, labelAllowed,\n    } = modalPayload;\n\n    useEffect(() => {\n        setData({ label: defaultLabel || '', style: defaultStyle });\n    }, [defaultLabel, defaultStyle]);\n\n    const submit = (e) => {\n        e.preventDefault();\n        cb(data.label, data.style);\n        setData({ label: defaultLabel || '', style: defaultStyle });\n        closeModal();\n    };\n\n    return (\n        <ParentModal closeModal={closeModal} ModelOpen={ModelOpen} title={title}>\n            <form onSubmit={submit}>\n                <div className=\"modal-content-body\">\n                    <Children data={data} setData={setData} labelAllowed={labelAllowed} />\n                </div>\n                <div className=\"modal-footer\">\n                    <button type=\"submit\" className=\"btn btn-primary\">{submitText}</button>\n                </div>\n            </form>\n        </ParentModal>\n    );\n};\nexport default ModalComp;\n","import {\n    FaSave, FaUndo, FaRedo, FaTrash, FaFileImport, FaPlus, FaDownload, FaEdit, FaRegTimesCircle, FaShare,\n} from 'react-icons/fa';\n\nimport {\n    createNode, editElement, deleteElem, downloadImg, saveAction,\n    readFile, clearAll, undo, redo, openShareModal,\n} from './toolbarFunctions';\n\nconst toolbarList = (state) => [\n    {\n        type: 'action',\n        text: 'Node',\n        icon: FaPlus,\n        action: createNode,\n        active: true,\n        hotkey: 'Ctrl+G',\n    },\n    { type: 'vsep' },\n    {\n        type: 'file-upload',\n        text: 'Open',\n        icon: FaFileImport,\n        action: readFile,\n        active: true,\n        hotkey: 'Ctrl+O',\n    },\n    {\n        type: 'action',\n        text: 'Save',\n        icon: FaSave,\n        action: saveAction,\n        active: true,\n        hotkey: 'Ctrl+S',\n    },\n    {\n        type: 'action',\n        text: 'Clear',\n        icon: FaRegTimesCircle,\n        action: clearAll,\n        active: true,\n        hotkey: 'Ctrl+Backspace',\n    },\n    { type: 'vsep' },\n    {\n        type: 'action',\n        text: 'Undo',\n        icon: FaUndo,\n        action: undo,\n        active: state.undoEnabled,\n        hotkey: 'Ctrl+Z',\n    },\n    {\n        type: 'action',\n        text: 'Redo',\n        icon: FaRedo,\n        action: redo,\n        active: state.redoEnabled,\n        hotkey: 'Ctrl+Shift+Z,Ctrl+Y',\n    },\n    { type: 'vsep' },\n    {\n        type: 'action',\n        text: 'Edit',\n        icon: FaEdit,\n        action: editElement,\n        active: (state.eleSelected && state.eleSelectedPayload.type !== 'MIX'),\n        hotkey: 'Ctrl+E',\n    },\n    {\n        type: 'action',\n        text: 'Delete',\n        icon: FaTrash,\n        action: deleteElem,\n        active: state.eleSelected,\n        hotkey: 'Delete,Backspace,Del,Clear',\n    },\n    { type: 'vsep' },\n    { type: 'space' },\n    {\n        type: 'action',\n        text: 'Share',\n        icon: FaShare,\n        action: openShareModal,\n        active: true,\n    },\n    {\n        type: 'menu',\n        text: 'Download',\n        icon: FaDownload,\n        action: downloadImg,\n        active: true,\n    },\n    { type: 'vsep' },\n];\n\nexport default toolbarList;\n","import React from 'react';\nimport Switch from 'rc-switch';\nimport { Menu, MenuItem, MenuButton } from '@szhsin/react-menu';\n\nfunction DropDown({\n    Icon, text, action, active, tabIndex, hotkey,\n}) {\n    return (\n        <Menu menuButton={(\n            <MenuButton>\n                <ActionButton {...{\n                    Icon, text, action, active, tabIndex, hotkey,\n                }}\n                />\n            </MenuButton>\n        )}\n        >\n            <MenuItem onClick={() => action('JPG')}>JPG</MenuItem>\n            <MenuItem onClick={() => action('PNG')}>PNG</MenuItem>\n        </Menu>\n    );\n}\n\nconst FileUploader = ({\n    Icon, text, action, active, tabIndex, hotkey,\n}) => {\n    const fileRef = React.createRef();\n    return (\n        <>\n            <input type=\"file\" ref={fileRef} style={{ display: 'none' }} accept=\".graphml\" onChange={action} />\n            <ActionButton {...{\n                Icon, text, active, tabIndex, action: () => fileRef.current.click(), hotkey,\n            }}\n            />\n        </>\n    );\n};\n\nconst Switcher = ({\n    text, action, active, tabIndex,\n}) => (\n    <div\n        role=\"button\"\n        tabIndex={tabIndex}\n        className={`tool ${active ? 'active' : ''}`}\n        onClick={action}\n        onKeyDown={(ev) => ev.key === ' ' && action()}\n    >\n        <Switch\n            onChange={action}\n            checked={active}\n            className=\"react-switch\"\n        />\n        <div>\n            {text}\n        </div>\n    </div>\n);\n\nconst ActionButton = ({\n    Icon, text, action, active, tabIndex, hotkey,\n}) => (\n    <div\n        role=\"button\"\n        id={`action_${tabIndex}`}\n        tabIndex={tabIndex}\n        className={`tool ${active ? 'active' : ''}`}\n        onClick={() => (active && action())}\n        onKeyDown={(ev) => active && ev.key === ' ' && action()}\n        data-tip={hotkey ? hotkey.split(',')[0] : ''}\n    >\n        <div className=\"icon\"><Icon size=\"25\" /></div>\n        <div style={{ fontSize: 16 }}>{text}</div>\n    </div>\n);\n\nconst TextBox = ({ children }) => (\n    <div className=\"tool\" style={{ width: 'auto' }}>\n        <div className=\"middle tool-text-only\" style={{ fontSize: 16, color: '#888', height: '100%' }}>\n            {children}\n        </div>\n    </div>\n);\n\nconst Vsep = () => <div className=\"Vsep sep\" />;\nconst Hsep = () => <div className=\"hsep sep\" />;\nconst Space = () => <div className=\"space\" />;\n\nexport {\n    ActionButton, Vsep, Hsep, Space, TextBox, Switcher, DropDown, FileUploader,\n};\n","/* eslint-disable react/jsx-props-no-spreading */\nimport React from 'react';\nimport hotkeys from 'hotkeys-js';\nimport toolbarList from '../toolbarActions/toolbarList';\nimport '@szhsin/react-menu/dist/index.css';\nimport './header.css';\nimport {\n    ActionButton, Vsep, Hsep, Space, TextBox, Switcher, DropDown, FileUploader,\n} from './HeaderComps';\nimport 'rc-switch/assets/index.css';\n\nconst setHotKeys = (actions) => {\n    let keys = '';\n    const map = {};\n    actions.forEach((action, i) => {\n        if (action.hotkey) {\n            action.hotkey.split(',').forEach((key) => {\n                [key, key.replace('Ctrl', 'Command')].forEach((k) => {\n                    keys += `${k},`;\n                    map[k] = document.getElementById(`action_${i + 1}`);\n                });\n            });\n        }\n    });\n    hotkeys(keys, (event, handler) => {\n        event.preventDefault();\n        map[handler.shortcut].click();\n    });\n};\n\nconst Header = ({ state, dispatcher }) => {\n    const actions = toolbarList(state);\n    React.useEffect(() => {\n        setHotKeys(actions, state, dispatcher);\n    }, []);\n\n    return (\n        <header className=\"header\">\n            <section className=\"middle titlebar\">\n                {\n                    state.graphs[state.curGraphIndex]\n                        ? `${state.graphs[state.curGraphIndex].projectDetails.projectName} - DHGWorkflow Editor` : ''\n                }\n            </section>\n            <section className=\"toolbar\">\n                {\n                    actions.map(({\n                        text, active, action, icon, type, hotkey,\n                    }, i) => {\n                        const props = {\n                            text,\n                            active,\n                            tabIndex: i + 1,\n                            key: text,\n                            action: (e) => action(state, dispatcher, e),\n                            Icon: icon,\n                            hotkey,\n                        };\n                        switch (type) {\n                        case 'vsep': return <Vsep key={`${`v${i}`}`} />;\n                        case 'space': return <Space key={`${`s${i}`}`} />;\n                        case 'switch': return <Switcher {...props} />;\n                        case 'menu': return <DropDown {...props} />;\n                        case 'file-upload': return <FileUploader {...props} />;\n                        case 'action': return <ActionButton {...props} />;\n                        default: return <></>;\n                        }\n                    })\n                }\n                <input type=\"file\" id=\"fileUploader\" style={{ display: 'none' }} accept=\".jpg, .jpeg, .png\" />\n            </section>\n            <Hsep />\n        </header>\n\n    );\n};\n\nexport {\n    Header, ActionButton, Vsep, Hsep, Space, TextBox,\n};\n","import React, { useEffect, useState, useCallback } from 'react';\nimport Modal from './ParentModal';\nimport './project-details.css';\nimport { actionType as T } from '../../reducer';\n\nconst ProjectDetails = ({ superState, dispatcher }) => {\n    const curGraph = superState.graphs[superState.curGraphIndex];\n    const [projectName, setProjectName] = useState('');\n    const [author, setAuthor] = useState('');\n    const inputRef = useCallback((node) => node && node.focus(), []);\n    useEffect(() => {\n        if (!curGraph) {\n            setProjectName(''); setAuthor('');\n        } else {\n            setProjectName(curGraph.projectDetails.projectName || '');\n            setAuthor(curGraph.projectDetails.author || '');\n        }\n    }, [!curGraph || !curGraph.projectDetails.set]);\n\n    const addNewGraph = () => {\n        dispatcher({\n            type: T.ADD_GRAPH,\n            payload: { id: new Date().getTime(), projectDetails: { projectName, author, set: true } },\n        });\n    };\n\n    const setProjectDetails = (projectDetails) => {\n        dispatcher({\n            type: T.SET_PROJECT_DETAILS,\n            payload: {\n                projectDetails,\n                id: curGraph.id,\n            },\n        });\n    };\n\n    const submit = (e) => {\n        e.preventDefault();\n        if (!curGraph) addNewGraph();\n        else setProjectDetails({ projectName, author, set: true });\n    };\n\n    const openExisting = () => {\n        document.querySelector('input[type=\"file\"]').click();\n    };\n    const closeModal = () => {\n        if (!curGraph) dispatcher({ type: T.CHANGE_TAB, payload: 0 });\n        else {\n            setProjectDetails({\n                ...curGraph.projectDetails,\n                set: Boolean(curGraph.projectDetails.author && curGraph.projectDetails.projectName),\n            });\n        }\n    };\n    return (\n        <Modal\n            ModelOpen={!curGraph || !curGraph.projectDetails.set}\n            closeModal={!curGraph && superState.curGraphIndex === 0 ? null : closeModal}\n            title=\"Project Details\"\n        >\n            <form className=\"proj-details\" onSubmit={submit}>\n                <span>Workflow Name</span>\n                <input\n                    ref={inputRef}\n                    placeholder=\"Title of workflow\"\n                    required\n                    value={projectName}\n                    onChange={(e) => setProjectName(e.target.value)}\n                />\n                <span>Author</span>\n                <input\n                    placeholder=\"Author of workflow\"\n                    required\n                    value={author}\n                    onChange={(e) => setAuthor(e.target.value)}\n                />\n                <div className=\"expand\">\n                    <button type=\"submit\" className=\"btn btn-primary\">Save</button>\n                    {curGraph ? <></> : (\n                        <>\n                            <div className=\"divider\" />\n                            <button\n                                type=\"button\"\n                                className=\"btn btn-secondary\"\n                                onClick={openExisting}\n                            >\n                                Open Existing\n\n                            </button>\n                        </>\n                    )}\n                </div>\n            </form>\n        </Modal>\n    );\n};\n\nexport default ProjectDetails;\n","import React, { useEffect, useState } from 'react';\nimport Modal from './ParentModal';\nimport './shareModal.css';\nimport { actionType as T } from '../../reducer';\n\nconst ShareModal = ({ superState, dispatcher }) => {\n    const [serializedGraph, setSerializedGraph] = useState('');\n    const [copyText, setCopyText] = useState('Copy');\n    const cond = superState.shareModal\n    && superState.graphs[superState.curGraphIndex] && superState.graphs[superState.curGraphIndex].instance;\n    useEffect(() => {\n        if (cond) {\n            setSerializedGraph(superState.graphs[superState.curGraphIndex].instance.serializeGraph());\n            setCopyText('Copy');\n        }\n    }, [cond]);\n\n    const closeModal = () => {\n        dispatcher({ type: T.SET_SHARE_MODAL, payload: false });\n    };\n    const link = `${window.location.protocol}//${window.location.host}${window.location.pathname}?g=${serializedGraph}`;\n    const copy = () => {\n        navigator.clipboard.writeText(link).then(() => {\n            setCopyText('Copied!');\n            document.getElementsByClassName('preDiv')[0].focus();\n            document.getElementsByClassName('preDiv')[0].select();\n        });\n    };\n\n    return (\n        <Modal\n            ModelOpen={superState.shareModal}\n            title=\"Shareable Link\"\n            closeModal={closeModal}\n        >\n            <div className=\"share-modal\">\n                <input readOnly className=\"preDiv\" value={link} />\n                <button onClick={copy} type=\"button\" className=\"copyBtn\">{copyText}</button>\n            </div>\n\n        </Modal>\n    );\n};\n\nexport default ShareModal;\n","import React, { useReducer } from 'react';\nimport './App.css';\nimport ReactTooltip from 'react-tooltip';\nimport GraphComp from './graph';\nimport GraphCompDetails from './component/modals/GraphCompDetails';\nimport { Header } from './component/Header';\nimport { reducer, initialState, actionType as T } from './reducer';\nimport ProjectDetails from './component/modals/ProjectDetails';\nimport ShareModal from './component/modals/ShareModal';\n\nconst app = () => {\n    const [superState, dispatcher] = useReducer(reducer, initialState);\n    return (\n        <div className=\"container\">\n            <ProjectDetails superState={superState} dispatcher={dispatcher} />\n            <ShareModal superState={superState} dispatcher={dispatcher} />\n            <GraphCompDetails\n                closeModal={() => dispatcher({ type: T.Model_Close })}\n                superState={superState}\n            />\n            <Header state={superState} dispatcher={dispatcher} />\n            <section className=\"body\" style={{ display: 'flex', overflow: 'hidden' }}>\n                <GraphComp dispatcher={dispatcher} superState={superState} />\n            </section>\n            <ReactTooltip place=\"bottom\" type=\"dark\" effect=\"solid\" />\n        </div>\n    );\n};\n\nexport default app;\n","/* eslint-disable */\n// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://cra.link/PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(/^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/)\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://cra.link/PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then((registration) => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://cra.link/PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch((error) => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' },\n  })\n    .then((response) => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then((registration) => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log('No internet connection found. App is running in offline mode.');\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready\n      .then((registration) => {\n        registration.unregister();\n      })\n      .catch((error) => {\n        console.error(error.message);\n      });\n  }\n}\n","const reportWebVitals = (onPerfEntry) => {\n    if (onPerfEntry && onPerfEntry instanceof Function) {\n        import('web-vitals').then(({\n            getCLS, getFID, getFCP, getLCP, getTTFB,\n        }) => {\n            getCLS(onPerfEntry);\n            getFID(onPerfEntry);\n            getFCP(onPerfEntry);\n            getLCP(onPerfEntry);\n            getTTFB(onPerfEntry);\n        });\n    }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport * as serviceWorkerRegistration from './serviceWorkerRegistration';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n    <React.StrictMode>\n        <App />\n    </React.StrictMode>,\n    document.getElementById('root'),\n);\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://cra.link/PWA\nserviceWorkerRegistration.unregister();\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}